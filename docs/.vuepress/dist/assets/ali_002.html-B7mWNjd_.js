import{_ as l,a as o,b as i,c,d as r}from"./image-20230128154600676-sTwcm9on.js";import{_ as u,a as d,b as m,c as k,d as v,e as b,f as h,g,h as x,i as y,j as f,k as O,l as _,m as S,n as j,o as q,p as w,q as C,r as E,s as B,t as A}from"./image-20230210101214668-D7AQykkt.js";import{_ as J,c as D,a as n,d as e,e as p,f as N,r as $,o as P,b as t}from"./app-SDSt6GS6.js";const R="/qianpengzhan/assets/image-20240712141327936-C0R-quzb.png",M={},T={class:"table-of-contents"};function L(I,s){const a=$("router-link");return P(),D("div",null,[s[5]||(s[5]=n("h2",{id:"ali-centos-7-minimal-新手教程引导",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ali-centos-7-minimal-新手教程引导"},[n("span",null,"Ali CentOS 7 Minimal 新手教程引导")])],-1)),n("nav",T,[n("ul",null,[n("li",null,[e(a,{to:"#ali-centos-7-minimal-新手教程引导"},{default:p(()=>s[0]||(s[0]=[t("Ali CentOS 7 Minimal 新手教程引导")])),_:1}),n("ul",null,[n("li",null,[e(a,{to:"#一、ali-centos7-linux下yum换源为阿里yum源"},{default:p(()=>s[1]||(s[1]=[t("一、Ali CentOS7-Linux下yum换源为阿里yum源")])),_:1})]),n("li",null,[e(a,{to:"#二、ali-centos7-linux下基础依赖部署"},{default:p(()=>s[2]||(s[2]=[t("二、Ali CentOS7-Linux下基础依赖部署")])),_:1})]),n("li",null,[e(a,{to:"#三、ali-centos7-linux下常用设置安装"},{default:p(()=>s[3]||(s[3]=[t("三、Ali CentOS7-Linux下常用设置安装")])),_:1})]),n("li",null,[e(a,{to:"#四、ali-centos7-linux下安装软件"},{default:p(()=>s[4]||(s[4]=[t("四、Ali CentOS7-Linux下安装软件")])),_:1})])])])])]),s[6]||(s[6]=N(`<h3 id="一、ali-centos7-linux下yum换源为阿里yum源" tabindex="-1"><a class="header-anchor" href="#一、ali-centos7-linux下yum换源为阿里yum源"><span>一、Ali CentOS7-Linux下yum换源为阿里yum源</span></a></h3><blockquote><p>CentOS通过yum进行软件安装，但是默认软件库的地址为境外地址，如果不使用魔法的话，更新和下载可能会非常缓慢，因此我们需要对其进行换源。</p></blockquote><h4 id="_1-1-查看yum源信息" tabindex="-1"><a class="header-anchor" href="#_1-1-查看yum源信息"><span>1.1 查看yum源信息</span></a></h4><blockquote><p>yum repolist</p></blockquote><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[root@localhost02 network-scripts]# yum repolist</span>
<span class="line">Loaded plugins: fastestmirror</span>
<span class="line">Loading mirror speeds from cached hostfile</span>
<span class="line"> * base: mirrors.163.com</span>
<span class="line"> * extras: mirrors.163.com</span>
<span class="line"> * updates: mirrors.163.com</span>
<span class="line">repo id                                                                               repo name                                                                               status</span>
<span class="line">!base/7/x86_64                                                                        CentOS-7 - Base                                                                         10,072</span>
<span class="line">!extras/7/x86_64                                                                      CentOS-7 - Extras                                                                          515</span>
<span class="line">!updates/7/x86_64                                                                     CentOS-7 - Updates                                                                       4,691</span>
<span class="line">repolist: 15,278</span>
<span class="line">[root@localhost02 network-scripts]# </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-找到base-reop源文件目录位置" tabindex="-1"><a class="header-anchor" href="#_1-2-找到base-reop源文件目录位置"><span>1.2 找到base reop源文件目录位置</span></a></h4><blockquote><p>cd /etc/yum.repos.d</p></blockquote><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[root@localhost02 network-scripts]# cd /etc/yum.repos.d</span>
<span class="line">[root@localhost02 yum.repos.d]# ll</span>
<span class="line">total 40</span>
<span class="line">-rw-r--r--. 1 root root 1664 Nov 23  2020 CentOS-Base.repo</span>
<span class="line">-rw-r--r--. 1 root root 1309 Nov 23  2020 CentOS-CR.repo</span>
<span class="line">-rw-r--r--. 1 root root  649 Nov 23  2020 CentOS-Debuginfo.repo</span>
<span class="line">-rw-r--r--. 1 root root  314 Nov 23  2020 CentOS-fasttrack.repo</span>
<span class="line">-rw-r--r--. 1 root root  630 Nov 23  2020 CentOS-Media.repo</span>
<span class="line">-rw-r--r--. 1 root root 1331 Nov 23  2020 CentOS-Sources.repo</span>
<span class="line">-rw-r--r--. 1 root root 8515 Nov 23  2020 CentOS-Vault.repo</span>
<span class="line">-rw-r--r--. 1 root root  616 Nov 23  2020 CentOS-x86_64-kernel.repo</span>
<span class="line">[root@localhost02 yum.repos.d]# </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-备份旧的配置文件" tabindex="-1"><a class="header-anchor" href="#_1-3-备份旧的配置文件"><span>1.3 备份旧的配置文件</span></a></h4><blockquote><p>sudo mv CentOS-Base.repo CentOS-Base.repo.bak</p></blockquote><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[root@localhost02 yum.repos.d]# sudo mv CentOS-Base.repo CentOS-Base.repo.bak</span>
<span class="line">[root@localhost02 yum.repos.d]# ll</span>
<span class="line">total 40</span>
<span class="line">-rw-r--r--. 1 root root 1664 Nov 23  2020 CentOS-Base.repo.bak</span>
<span class="line">-rw-r--r--. 1 root root 1309 Nov 23  2020 CentOS-CR.repo</span>
<span class="line">-rw-r--r--. 1 root root  649 Nov 23  2020 CentOS-Debuginfo.repo</span>
<span class="line">-rw-r--r--. 1 root root  314 Nov 23  2020 CentOS-fasttrack.repo</span>
<span class="line">-rw-r--r--. 1 root root  630 Nov 23  2020 CentOS-Media.repo</span>
<span class="line">-rw-r--r--. 1 root root 1331 Nov 23  2020 CentOS-Sources.repo</span>
<span class="line">-rw-r--r--. 1 root root 8515 Nov 23  2020 CentOS-Vault.repo</span>
<span class="line">-rw-r--r--. 1 root root  616 Nov 23  2020 CentOS-x86_64-kernel.repo</span>
<span class="line">[root@localhost02 yum.repos.d]# </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-下载阿里源的文件" tabindex="-1"><a class="header-anchor" href="#_1-4-下载阿里源的文件"><span>1.4 下载阿里源的文件</span></a></h4><blockquote><p>sudo wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</p></blockquote><p>若没有wget的时候，使用以下命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# CentOS-Base.repo&#39;</span>                                                                 <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# The mirror system uses the connecting IP address of the client and the&#39;</span>           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# update status of each mirror to pick mirrors that are updated to and&#39;</span>             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# geographically close to the client.  You should use this for CentOS updates&#39;</span>      <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# unless you are manually picking other mirrors.&#39;</span>                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# If the mirrorlist= does not work for you, as a fall back you can try the&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# remarked out baseurl= line instead.&#39;</span>                                              <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[base]&#39;</span>                                                                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Base - mirrors.aliyun.com&#39;</span>                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/os/$basearch/&#39;</span>                 <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/os/$basearch/&#39;</span>               <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/os/$basearch/&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#released updates&#39;</span>                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[updates]&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Updates - mirrors.aliyun.com&#39;</span>                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/updates/$basearch/&#39;</span>            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/updates/$basearch/&#39;</span>          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/updates/$basearch/&#39;</span>    <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#additional packages that may be useful&#39;</span>                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[extras]&#39;</span>                                                                           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Extras - mirrors.aliyun.com&#39;</span>                              <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/extras/$basearch/&#39;</span>             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/extras/$basearch/&#39;</span>           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/extras/$basearch/&#39;</span>     <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#additional packages that extend functionality of existing packages&#39;</span>                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[centosplus]&#39;</span>                                                                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Plus - mirrors.aliyun.com&#39;</span>                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/centosplus/$basearch/&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/centosplus/$basearch/&#39;</span>       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/centosplus/$basearch/&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;enabled=0&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#contrib - packages by Centos Users&#39;</span>                                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[contrib]&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Contrib - mirrors.aliyun.com&#39;</span>                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/contrib/$basearch/&#39;</span>            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/contrib/$basearch/&#39;</span>          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/contrib/$basearch/&#39;</span>    <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;enabled=0&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-清理缓存" tabindex="-1"><a class="header-anchor" href="#_1-5-清理缓存"><span>1.5 清理缓存</span></a></h4><blockquote><p>yum clean all</p></blockquote><h4 id="_1-6-重新生成缓存" tabindex="-1"><a class="header-anchor" href="#_1-6-重新生成缓存"><span>1.6 重新生成缓存</span></a></h4><blockquote><p>yum makecache</p></blockquote><h4 id="_1-7-再次查看yum源信息" tabindex="-1"><a class="header-anchor" href="#_1-7-再次查看yum源信息"><span>1.7 再次查看yum源信息</span></a></h4><blockquote><p>yum repolist</p></blockquote><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[root@localhost02 yum.repos.d]# yum repolist</span>
<span class="line">Loaded plugins: fastestmirror</span>
<span class="line">Loading mirror speeds from cached hostfile</span>
<span class="line"> * base: mirrors.aliyun.com</span>
<span class="line"> * extras: mirrors.aliyun.com</span>
<span class="line"> * updates: mirrors.aliyun.com</span>
<span class="line">repo id                                                                    repo name                                                                                          status</span>
<span class="line">base/7/x86_64                                                              CentOS-7 - Base - mirrors.aliyun.com                                                               10,072</span>
<span class="line">extras/7/x86_64                                                            CentOS-7 - Extras - mirrors.aliyun.com                                                                515</span>
<span class="line">updates/7/x86_64                                                           CentOS-7 - Updates - mirrors.aliyun.com                                                             4,691</span>
<span class="line">repolist: 15,278</span>
<span class="line">[root@localhost02 yum.repos.d]# </span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-8-更新安装yum" tabindex="-1"><a class="header-anchor" href="#_1-8-更新安装yum"><span>1.8 更新安装yum</span></a></h4><blockquote><p>yum -y update</p><p>等待更新完成即可</p></blockquote><h4 id="_1-9-命令集合" tabindex="-1"><a class="header-anchor" href="#_1-9-命令集合"><span>1.9 命令集合</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum repolist <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">cd</span> /etc/yum.repos.d <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">sudo</span> <span class="token function">mv</span> <span class="token parameter variable">-f</span> CentOS-Base.repo CentOS-Base.repo.bak <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# CentOS-Base.repo&#39;</span>                                                                 <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# The mirror system uses the connecting IP address of the client and the&#39;</span>           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# update status of each mirror to pick mirrors that are updated to and&#39;</span>             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# geographically close to the client.  You should use this for CentOS updates&#39;</span>      <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# unless you are manually picking other mirrors.&#39;</span>                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# If the mirrorlist= does not work for you, as a fall back you can try the&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;# remarked out baseurl= line instead.&#39;</span>                                              <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#&#39;</span>                                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[base]&#39;</span>                                                                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Base - mirrors.aliyun.com&#39;</span>                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/os/$basearch/&#39;</span>                 <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/os/$basearch/&#39;</span>               <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/os/$basearch/&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#released updates&#39;</span>                                                                  <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[updates]&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Updates - mirrors.aliyun.com&#39;</span>                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/updates/$basearch/&#39;</span>            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/updates/$basearch/&#39;</span>          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/updates/$basearch/&#39;</span>    <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#additional packages that may be useful&#39;</span>                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[extras]&#39;</span>                                                                           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Extras - mirrors.aliyun.com&#39;</span>                              <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/extras/$basearch/&#39;</span>             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/extras/$basearch/&#39;</span>           <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/extras/$basearch/&#39;</span>     <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#additional packages that extend functionality of existing packages&#39;</span>                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[centosplus]&#39;</span>                                                                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Plus - mirrors.aliyun.com&#39;</span>                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/centosplus/$basearch/&#39;</span>         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/centosplus/$basearch/&#39;</span>       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/centosplus/$basearch/&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;enabled=0&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;&#39;</span>                                                                                   <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;#contrib - packages by Centos Users&#39;</span>                                                <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;[contrib]&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;name=CentOS-$releasever - Contrib - mirrors.aliyun.com&#39;</span>                             <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;failovermethod=priority&#39;</span>                                                            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;baseurl=http://mirrors.aliyun.com/centos/$releasever/contrib/$basearch/&#39;</span>            <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.aliyuncs.com/centos/$releasever/contrib/$basearch/&#39;</span>          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;        http://mirrors.cloud.aliyuncs.com/centos/$releasever/contrib/$basearch/&#39;</span>    <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgcheck=1&#39;</span>                                                                         <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;enabled=0&#39;</span>                                                                          <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7&#39;</span>                       <span class="token operator">&gt;&gt;</span> /etc/yum.repos.d/CentOS-Base.repo <span class="token operator">&amp;&amp;</span> </span>
<span class="line">yum clean all <span class="token operator">&amp;&amp;</span> yum makecache <span class="token operator">&amp;&amp;</span> yum repolist <span class="token operator">&amp;&amp;</span> yum <span class="token parameter variable">-y</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二、ali-centos7-linux下基础依赖部署" tabindex="-1"><a class="header-anchor" href="#二、ali-centos7-linux下基础依赖部署"><span>二、Ali CentOS7-Linux下基础依赖部署</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">vim</span> <span class="token function">wget</span> lrzsz <span class="token function">curl</span> telnet net-tools tree openssh-server gcc gcc-c++ <span class="token function">make</span> autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel <span class="token function">bzip2</span> bzip2-devel ncurses ncurses-devel <span class="token function">curl</span> curl-devel e2fsprogs e2fsprogs-devel krb5-devel libidn libidn-devel openssl openssl-devel libxslt-devel libevent-devel libtool libtool-ltdl bison gd gd-devel vim-enhanced pcre-devel <span class="token function">zip</span> <span class="token function">unzip</span> ntpdate sysstat patch <span class="token function">bc</span> <span class="token function">expect</span> <span class="token function">rsync</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="三、ali-centos7-linux下常用设置安装" tabindex="-1"><a class="header-anchor" href="#三、ali-centos7-linux下常用设置安装"><span>三、Ali CentOS7-Linux下常用设置安装</span></a></h3><h4 id="_3-1-开放端口" tabindex="-1"><a class="header-anchor" href="#_3-1-开放端口"><span>3.1 开放端口</span></a></h4><h5 id="_3-1-1-开启防火墙" tabindex="-1"><a class="header-anchor" href="#_3-1-1-开启防火墙"><span>3.1.1 开启防火墙</span></a></h5><blockquote><p>systemctl start firewalld</p></blockquote><h5 id="_3-1-2-开放指定端口号" tabindex="-1"><a class="header-anchor" href="#_3-1-2-开放指定端口号"><span>3.1.2 开放指定端口号</span></a></h5><blockquote><p>firewall-cmd --zone=public --add-port=1935/tcp --permanent</p><p>firewall-cmd --zone=public --add-port=8080/tcp --permanent</p><p>firewall-cmd --zone=public --add-port=8081/tcp --permanent</p><p>firewall-cmd --zone=public --add-port=8082/tcp --permanent</p><p>firewall-cmd --zone=public --add-port=8083/tcp --permanent</p><p>命令含义：</p><p>--zone #作用域</p><p>--add-port=1935/tcp #添加端口，格式为：端口/通讯协议</p><p>--permanent #永久生效，没有此参数重启后失效</p></blockquote><h5 id="_3-1-3-重启防火墙" tabindex="-1"><a class="header-anchor" href="#_3-1-3-重启防火墙"><span>3.1.3 重启防火墙</span></a></h5><blockquote><p>firewall-cmd --reload</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># systemctl start firewalld</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=1935/tcp  --permanent</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=8080/tcp  --permanent</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=8081/tcp  --permanent</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=8082/tcp  --permanent</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --add-port=8083/tcp  --permanent</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span></span>
<span class="line">success</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-1-4-查看端口号" tabindex="-1"><a class="header-anchor" href="#_3-1-4-查看端口号"><span>3.1.4 查看端口号</span></a></h5><blockquote><p>netstat -ntlp #查看当前所有tcp端口·</p><p>netstat -ntulp |grep 1935 #查看所有1935端口使用情况·</p><p>netstat -ntulp |grep 8080 #查看所有8080端口使用情况·</p><p>netstat -ntulp |grep 8081 #查看所有8081端口使用情况·</p><p>netstat -ntulp |grep 8082 #查看所有8082端口使用情况·</p><p>netstat -ntulp |grep 8083 #查看所有8083端口使用情况·</p></blockquote><h5 id="_3-1-5-命令集合" tabindex="-1"><a class="header-anchor" href="#_3-1-5-命令集合"><span>3.1.5 命令集合</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl start firewalld <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">1935</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8000</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8081</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8082</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8083</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8084</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">firewall-cmd <span class="token parameter variable">--reload</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-设置时区" tabindex="-1"><a class="header-anchor" href="#_3-2-设置时区"><span>3.2 设置时区</span></a></h4><blockquote><p>若需要变更，则使用<code>rm -rf /etc/localtime</code>和<code>ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code>命令进行修改，<code>date -s</code>修改具体时间,<code>clock -w</code>,<code>hwclock -w</code> 复位时间</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># rm -rf /etc/localtime </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># ll /etc/localtime</span></span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">33</span> Jan <span class="token number">28</span> <span class="token number">14</span>:38 /etc/localtime -<span class="token operator">&gt;</span> /usr/share/zoneinfo/Asia/Shanghai</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># date -R</span></span>
<span class="line">Sat, <span class="token number">28</span> Jan <span class="token number">2023</span> <span class="token number">14</span>:39:38 +0800</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># date -s 14:58:00</span></span>
<span class="line">Sat Jan <span class="token number">28</span> <span class="token number">14</span>:58:00 CST <span class="token number">2023</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># clock -w</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># hwclock -w</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 Asia<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ll /etc/localtime <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/localtime <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token operator">&amp;&amp;</span></span>
<span class="line">ll /etc/localtime</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-关闭selinux" tabindex="-1"><a class="header-anchor" href="#_3-3-关闭selinux"><span>3.3 关闭SELinux</span></a></h4><h5 id="_3-3-1-selinux背景" tabindex="-1"><a class="header-anchor" href="#_3-3-1-selinux背景"><span>3.3.1 SELinux背景</span></a></h5><blockquote><p>seLinux是linux的一些强制安全策略，会限制一些软件的目录、端口和用户等，在日常操作中，常常会遇到不少莫名其妙的权限问题是由seLinux产生的。很多架构实现都会关闭selinux</p></blockquote><h5 id="_3-3-2-检查selinux是否开启" tabindex="-1"><a class="header-anchor" href="#_3-3-2-检查selinux是否开启"><span>3.3.2 检查selinux是否开启</span></a></h5><blockquote><p>在关闭selinux之前，可以通过以下命令来查看seLinux是否开启。</p><p><code>sestatus</code></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 usr<span class="token punctuation">]</span><span class="token comment"># sestatus</span></span>
<span class="line">SELinux status:                 enabled</span>
<span class="line">SELinuxfs mount:                /sys/fs/selinux</span>
<span class="line">SELinux root directory:         /etc/selinux</span>
<span class="line">Loaded policy name:             targeted</span>
<span class="line">Current mode:                   enforcing</span>
<span class="line">Mode from config file:          enforcing</span>
<span class="line">Policy MLS status:              enabled</span>
<span class="line">Policy deny_unknown status:     allowed</span>
<span class="line">Max kernel policy version:      <span class="token number">31</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 usr<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>看到 SELinux status: enabled说明是开启的。</p></blockquote><h5 id="_3-3-3-临时关闭selinux" tabindex="-1"><a class="header-anchor" href="#_3-3-3-临时关闭selinux"><span>3.3.3 临时关闭SELinux</span></a></h5><blockquote><p>要暂时禁用 SELinux，您必须修改 /selinux/enforce 文件。</p><p>请注意，重新启动系统后，此设置将消失。</p></blockquote><blockquote><p>使用命令：</p><p><strong>echo 0 &gt; /selinux/enforce</strong></p><p>or</p><p><strong>setenforce 0</strong></p></blockquote><h5 id="_3-3-4-永久关闭selinux" tabindex="-1"><a class="header-anchor" href="#_3-3-4-永久关闭selinux"><span>3.3.4 永久关闭SELinux</span></a></h5><blockquote><p>要永久禁用 SELinux，请修改 /etc/selinux/config 并将 SELINUX=disabled</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/selinux/config</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># This file controls the state of SELinux on the system.</span></span>
<span class="line"><span class="token comment"># SELINUX= can take one of these three values:</span></span>
<span class="line"><span class="token comment">#     enforcing - SELinux security policy is enforced.</span></span>
<span class="line"><span class="token comment">#     permissive - SELinux prints warnings instead of enforcing.</span></span>
<span class="line"><span class="token comment">#     disabled - No SELinux policy is loaded.</span></span>
<span class="line"><span class="token assign-left variable">SELINUX</span><span class="token operator">=</span>enforcing</span>
<span class="line"><span class="token comment"># SELINUXTYPE= can take one of three values:</span></span>
<span class="line"><span class="token comment">#     targeted - Targeted processes are protected,</span></span>
<span class="line"><span class="token comment">#     minimum - Modification of targeted policy. Only selected processes are protected. </span></span>
<span class="line"><span class="token comment">#     mls - Multi Level Security protection.</span></span>
<span class="line"><span class="token assign-left variable">SELINUXTYPE</span><span class="token operator">=</span>targeted </span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/selinux/config</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+l+'" alt="image-20230128134959602"></p><blockquote><p>修改<strong>SELINUX=disabled</strong></p></blockquote><p><img src="'+o+`" alt="image-20230128135800754"></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/selinux/config</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># This file controls the state of SELinux on the system.</span></span>
<span class="line"><span class="token comment"># SELINUX= can take one of these three values:</span></span>
<span class="line"><span class="token comment">#     enforcing - SELinux security policy is enforced.</span></span>
<span class="line"><span class="token comment">#     permissive - SELinux prints warnings instead of enforcing.</span></span>
<span class="line"><span class="token comment">#     disabled - No SELinux policy is loaded.</span></span>
<span class="line"><span class="token assign-left variable">SELINUX</span><span class="token operator">=</span>disabled</span>
<span class="line"><span class="token comment"># SELINUXTYPE= can take one of three values:</span></span>
<span class="line"><span class="token comment">#     targeted - Targeted processes are protected,</span></span>
<span class="line"><span class="token comment">#     minimum - Modification of targeted policy. Only selected processes are protected. </span></span>
<span class="line"><span class="token comment">#     mls - Multi Level Security protection.</span></span>
<span class="line"><span class="token assign-left variable">SELINUXTYPE</span><span class="token operator">=</span>targeted </span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>最后重启服务器即可： <strong><code>shutdown -r now</code></strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># sestatus</span></span>
<span class="line">SELinux status:                 disabled</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>此时说明： 已经关闭了SELinux</p></blockquote><h5 id="_3-3-5-命令集合" tabindex="-1"><a class="header-anchor" href="#_3-3-5-命令集合"><span>3.3.5 命令集合</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">sestatus <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">cat</span> /etc/selinux/config <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/SELINUX=enforcing/SELINUX=disabled/g&#39;</span> /etc/selinux/config <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">cat</span> /etc/selinux/config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-配置linux历史命令大小" tabindex="-1"><a class="header-anchor" href="#_3-4-配置linux历史命令大小"><span>3.4 配置Linux历史命令大小</span></a></h4><blockquote><p>即修改history的存储大小</p><p>vim /etc/profile</p><p>HISTORY=1000</p><p>:wq</p><p>source /etc/profile</p></blockquote><p><img src="`+i+`" alt="image-20230128150244727"></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iHISTORY=1000&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">source</span> /etc/profile <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">cat</span> /etc/profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-绑定静态ip-只适用于虚拟机" tabindex="-1"><a class="header-anchor" href="#_3-5-绑定静态ip-只适用于虚拟机"><span>3.5 绑定静态IP（只适用于虚拟机）</span></a></h4><blockquote><p>这里需要注意： 静态IP和网关IP需要对照虚拟网络编辑器里面的配置是否一致</p></blockquote><p><img src="`+c+'" alt="image-20230128151459836"></p><p><img src="'+r+`" alt="image-20230128154600676"></p><blockquote><p>查看当前服务器的ifcfg-ens名称:</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 /<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig/network-scripts</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 network-scripts<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">232</span></span>
<span class="line">-rw-r--r--. <span class="token number">1</span> root root   <span class="token number">310</span> Dec <span class="token number">30</span> <span class="token number">16</span>:07 ifcfg-ens33</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p># 查看当前服务器的ifcfg-ens名称，我的是: ifcfg-ens33</p><p># 然后编辑配置如下：</p><p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p><p>输入：</p><p>ONBOOT=&quot;yes&quot;</p><p>IPADDR=&quot;192.168.244.129&quot;</p><p>#这里默认网关通过ip route查看</p><p>GATEWAY=192.168.244.2</p><p>DNS1=&quot;114.114.114.114&quot;</p><p>DNS2=&quot;8.8.8.8&quot;</p><p># 子网掩码的长度为24 相当于 NETMASK=255.255.255.0</p><p>PREFIX=24</p><p># dhcp表示动态获得ip地址，通过dhcp服务器的分配。none或者static 表示静态配置ip</p><p># 修改参数</p><p>BOOTPROTO=&quot;none&quot; #从dhcp改为none或者static</p><p>然后输入esc + : + wq! 退出并保存</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 network-scripts<span class="token punctuation">]</span><span class="token comment"># cat ifcfg-ens33 </span></span>
<span class="line"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span></span>
<span class="line"><span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span></span>
<span class="line"><span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span></span>
<span class="line"><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">&quot;dhcp&quot;</span></span>
<span class="line"><span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span></span>
<span class="line"><span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span></span>
<span class="line"><span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span></span>
<span class="line"><span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;b7db0422-2681-4d11-b055-01c17f86f4d3&quot;</span></span>
<span class="line"><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span></span>
<span class="line"><span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 network-scripts<span class="token punctuation">]</span><span class="token comment"># vim ifcfg-ens33  // 然后输入 i 进入输入模式</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>修改如下：</p><p>1 TYPE=&quot;Ethernet&quot; 2 PROXY_METHOD=&quot;none&quot; 3 BROWSER_ONLY=&quot;no&quot; 4 BOOTPROTO=&quot;none&quot; //修改从dhcp改为none 5 DEFROUTE=&quot;yes&quot; 6 IPV4_FAILURE_FATAL=&quot;no&quot; 7 IPV6INIT=&quot;yes&quot; 8 IPV6_AUTOCONF=&quot;yes&quot; 9 IPV6_DEFROUTE=&quot;yes&quot; 10 IPV6_FAILURE_FATAL=&quot;no&quot; 11 IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot; 12 NAME=&quot;ens33&quot; 13 UUID=&quot;b7db0422-2681-4d11-b055-01c17f86f4d3&quot; 14 DEVICE=&quot;ens33&quot; 15 ONBOOT=&quot;yes&quot; 16 IPADDR=&quot;192.168.91.131&quot; //新增 17 GATEWAY=&quot;192.168.91.2&quot; //新增 18 DNS1=&quot;114.114.114.114&quot; //新增 19 DNS2=&quot;8.8.8.8&quot; //新增 20 PREFIX=24 //新增</p></blockquote><blockquote><p>然后重启网卡</p><p><strong><code>service network restart</code></strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 network-scripts<span class="token punctuation">]</span><span class="token comment"># service network restart</span></span>
<span class="line">Restarting network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:                        <span class="token punctuation">[</span>  OK  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 network-scripts<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-5-1-命令整合" tabindex="-1"><a class="header-anchor" href="#_3-5-1-命令整合"><span>3.5.1 命令整合</span></a></h5><blockquote><p>注意这里的 192.168.198.128 需要替换为你的当前虚拟机的IP</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> /etc/sysconfig/network-scripts <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/BOOTPROTO=&quot;dhcp&quot;/BOOTPROTO=&quot;none&quot;/g&#39;</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;IPADDR=&quot;192.168.198.128&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;GATEWAY=&quot;192.168.198.2&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;DNS1=&quot;114.114.114.114&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;DNS2=&quot;8.8.8.8&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sysconfig/network-scripts/ifcfg-ens33  <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;PREFIX=24&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">cat</span> /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">service</span> network restart</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-6-重启虚拟机" tabindex="-1"><a class="header-anchor" href="#_3-6-重启虚拟机"><span>3.6 重启虚拟机</span></a></h4><blockquote><p>shutdown -r now</p></blockquote><h3 id="四、ali-centos7-linux下安装软件" tabindex="-1"><a class="header-anchor" href="#四、ali-centos7-linux下安装软件"><span>四、Ali CentOS7-Linux下安装软件</span></a></h3><h4 id="_4-1-ali-centos7-linux下安装openjdk8" tabindex="-1"><a class="header-anchor" href="#_4-1-ali-centos7-linux下安装openjdk8"><span>4.1 Ali CentOS7-Linux下安装OpenJDK8</span></a></h4><h5 id="_4-1-1-查找linux下的jdk版本列表" tabindex="-1"><a class="header-anchor" href="#_4-1-1-查找linux下的jdk版本列表"><span>4.1.1 查找Linux下的JDK版本列表</span></a></h5><blockquote><p>使用 yum 查找 jdk: yum search java |grep jdk</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment"># yum search java|grep jdk</span></span>
<span class="line">ldapjdk-javadoc.noarch <span class="token builtin class-name">:</span> Javadoc <span class="token keyword">for</span> ldapjdk</span>
<span class="line">java-1.6.0-openjdk.x86_64 <span class="token builtin class-name">:</span> OpenJDK Runtime Environment</span>
<span class="line">java-1.6.0-openjdk-demo.x86_64 <span class="token builtin class-name">:</span> OpenJDK Demos</span>
<span class="line">java-1.6.0-openjdk-devel.x86_64 <span class="token builtin class-name">:</span> OpenJDK Development Environment</span>
<span class="line">java-1.6.0-openjdk-javadoc.x86_64 <span class="token builtin class-name">:</span> OpenJDK API Documentation</span>
<span class="line">java-1.6.0-openjdk-src.x86_64 <span class="token builtin class-name">:</span> OpenJDK Source Bundle</span>
<span class="line">java-1.7.0-openjdk.x86_64 <span class="token builtin class-name">:</span> OpenJDK Runtime Environment</span>
<span class="line">java-1.7.0-openjdk-accessibility.x86_64 <span class="token builtin class-name">:</span> OpenJDK accessibility connector</span>
<span class="line">java-1.7.0-openjdk-demo.x86_64 <span class="token builtin class-name">:</span> OpenJDK Demos</span>
<span class="line">java-1.7.0-openjdk-devel.x86_64 <span class="token builtin class-name">:</span> OpenJDK Development Environment</span>
<span class="line">java-1.7.0-openjdk-headless.x86_64 <span class="token builtin class-name">:</span> The OpenJDK runtime environment without</span>
<span class="line">java-1.7.0-openjdk-javadoc.noarch <span class="token builtin class-name">:</span> OpenJDK API Documentation</span>
<span class="line">java-1.7.0-openjdk-src.x86_64 <span class="token builtin class-name">:</span> OpenJDK Source Bundle</span>
<span class="line">java-1.8.0-openjdk.i686 <span class="token builtin class-name">:</span> OpenJDK Runtime Environment <span class="token number">8</span></span>
<span class="line">java-1.8.0-openjdk.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> Runtime Environment</span>
<span class="line">java-1.8.0-openjdk-accessibility.i686 <span class="token builtin class-name">:</span> OpenJDK accessibility connector</span>
<span class="line">java-1.8.0-openjdk-accessibility.x86_64 <span class="token builtin class-name">:</span> OpenJDK accessibility connector</span>
<span class="line">java-1.8.0-openjdk-demo.i686 <span class="token builtin class-name">:</span> OpenJDK Demos <span class="token number">8</span></span>
<span class="line">java-1.8.0-openjdk-demo.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> Demos</span>
<span class="line">java-1.8.0-openjdk-devel.i686 <span class="token builtin class-name">:</span> OpenJDK Development Environment <span class="token number">8</span></span>
<span class="line">java-1.8.0-openjdk-devel.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> Development Environment</span>
<span class="line">java-1.8.0-openjdk-headless.i686 <span class="token builtin class-name">:</span> OpenJDK Headless Runtime Environment <span class="token number">8</span></span>
<span class="line">java-1.8.0-openjdk-headless.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> Headless Runtime Environment</span>
<span class="line">java-1.8.0-openjdk-javadoc.noarch <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> API documentation</span>
<span class="line">java-1.8.0-openjdk-javadoc-zip.noarch <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> API documentation compressed</span>
<span class="line">java-1.8.0-openjdk-src.i686 <span class="token builtin class-name">:</span> OpenJDK Source Bundle <span class="token number">8</span></span>
<span class="line">java-1.8.0-openjdk-src.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">8</span> Source Bundle</span>
<span class="line">java-11-openjdk.i686 <span class="token builtin class-name">:</span> OpenJDK Runtime Environment <span class="token number">11</span></span>
<span class="line">java-11-openjdk.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> Runtime Environment</span>
<span class="line">java-11-openjdk-demo.i686 <span class="token builtin class-name">:</span> OpenJDK Demos <span class="token number">11</span></span>
<span class="line">java-11-openjdk-demo.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> Demos</span>
<span class="line">java-11-openjdk-devel.i686 <span class="token builtin class-name">:</span> OpenJDK Development Environment <span class="token number">11</span></span>
<span class="line">java-11-openjdk-devel.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> Development Environment</span>
<span class="line">java-11-openjdk-headless.i686 <span class="token builtin class-name">:</span> OpenJDK Headless Runtime Environment <span class="token number">11</span></span>
<span class="line">java-11-openjdk-headless.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> Headless Runtime Environment</span>
<span class="line">java-11-openjdk-javadoc.i686 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> API documentation</span>
<span class="line">java-11-openjdk-javadoc.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> API documentation</span>
<span class="line">java-11-openjdk-javadoc-zip.i686 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> API documentation compressed <span class="token keyword">in</span> a</span>
<span class="line">java-11-openjdk-javadoc-zip.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> API documentation compressed <span class="token keyword">in</span></span>
<span class="line">java-11-openjdk-jmods.i686 <span class="token builtin class-name">:</span> JMods <span class="token keyword">for</span> OpenJDK <span class="token number">11</span></span>
<span class="line">java-11-openjdk-jmods.x86_64 <span class="token builtin class-name">:</span> JMods <span class="token keyword">for</span> OpenJDK <span class="token number">11</span></span>
<span class="line">java-11-openjdk-src.i686 <span class="token builtin class-name">:</span> OpenJDK Source Bundle <span class="token number">11</span></span>
<span class="line">java-11-openjdk-src.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> Source Bundle</span>
<span class="line">java-11-openjdk-static-libs.i686 <span class="token builtin class-name">:</span> OpenJDK libraries <span class="token keyword">for</span> static linking <span class="token number">11</span></span>
<span class="line">java-11-openjdk-static-libs.x86_64 <span class="token builtin class-name">:</span> OpenJDK <span class="token number">11</span> libraries <span class="token keyword">for</span> static linking</span>
<span class="line">ldapjdk.noarch <span class="token builtin class-name">:</span> The Mozilla LDAP Java SDK</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以发现，CentOs下的JDK版本又1.6，1.7，1.8，以及JDK11版本的OpenJDK，可以根据需要安装需要的版本，这里我们选择JDK8来进行安装。</p></blockquote><h5 id="_4-1-2-下载openjdk" tabindex="-1"><a class="header-anchor" href="#_4-1-2-下载openjdk"><span>4.1.2 下载openjdk</span></a></h5><blockquote><p>执行安装命令：</p><p>yum -y install java-1.8.0-openjdk</p><p>安装成功后，默认安装路径在<code>/usr/lib/jvm/</code>下边，</p><p>如<code>/usr/lib/jvm/java-1.8.0-openjdk-1xxxxxxxx</code></p><p>每个人的可能不同，下面配置环境会用到这个路径</p></blockquote><h5 id="_4-1-3-查看openjdk8安装路径" tabindex="-1"><a class="header-anchor" href="#_4-1-3-查看openjdk8安装路径"><span>4.1.3 查看openjdk8安装路径</span></a></h5><blockquote><p>使用以下命令：</p><p>which java</p><p>ls -lrt /usr/bin/java</p><p>ls -lrt /etc/alternatives/java</p><p>cd /usr/lib/jvm</p><p>ll</p></blockquote><blockquote><p>查看如下：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment"># which java</span></span>
<span class="line">/usr/bin/java</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment"># ls -lrt /usr/bin/java </span></span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">22</span> Jan <span class="token number">29</span> 03:44 /usr/bin/java -<span class="token operator">&gt;</span> /etc/alternatives/java</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment"># ls -lrt /etc/alternatives/java</span></span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">73</span> Jan <span class="token number">29</span> 03:44 /etc/alternatives/java -<span class="token operator">&gt;</span> /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64/jre/bin/java</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 qianpz<span class="token punctuation">]</span><span class="token comment"># cd /usr/lib/jvm</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 jvm<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">0</span></span>
<span class="line">drwxr-xr-x <span class="token number">3</span> root root <span class="token number">17</span> Jan <span class="token number">29</span> 03:43 java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">21</span> Jan <span class="token number">29</span> 03:44 jre -<span class="token operator">&gt;</span> /etc/alternatives/jre</span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">27</span> Jan <span class="token number">29</span> 03:44 jre-1.8.0 -<span class="token operator">&gt;</span> /etc/alternatives/jre_1.8.0</span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">35</span> Jan <span class="token number">29</span> 03:44 jre-1.8.0-openjdk -<span class="token operator">&gt;</span> /etc/alternatives/jre_1.8.0_openjdk</span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">51</span> Jan <span class="token number">29</span> 03:44 jre-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64 -<span class="token operator">&gt;</span> java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64/jre</span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">29</span> Jan <span class="token number">29</span> 03:44 jre-openjdk -<span class="token operator">&gt;</span> /etc/alternatives/jre_openjdk</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 jvm<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这样就发现了，yum 源安装的 openjdk 的地址了。</p></blockquote><h5 id="_4-1-4-验证java是否安装成功" tabindex="-1"><a class="header-anchor" href="#_4-1-4-验证java是否安装成功"><span>4.1.4 验证Java是否安装成功</span></a></h5><blockquote><p>执行命令：</p><p>java -version</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 jvm<span class="token punctuation">]</span><span class="token comment"># java -version</span></span>
<span class="line">openjdk version <span class="token string">&quot;1.8.0_362&quot;</span></span>
<span class="line">OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_362-b08<span class="token punctuation">)</span></span>
<span class="line">OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.362</span>-b08, mixed mode<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 jvm<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-1-5-查看java是否可用" tabindex="-1"><a class="header-anchor" href="#_4-1-5-查看java是否可用"><span>4.1.5 查看Java是否可用</span></a></h5><blockquote><p>执行命令：</p><p>java c</p></blockquote><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token namespace">[root@localhost02 ~]</span><span class="token comment"># javac</span></span>
<span class="line"><span class="token operator">-</span>bash: javac: command not found</span>
<span class="line"><span class="token namespace">[root@localhost02 ~]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>错误原因：</p><ul><li>默认安装完只有运行环境，java 安装目录下只有 jre 文件夹</li></ul><p>解决方案：</p><ul><li>安装Java的开发环境</li></ul></blockquote><h5 id="_4-1-6-安装java的开发环境" tabindex="-1"><a class="header-anchor" href="#_4-1-6-安装java的开发环境"><span>4.1.6 安装Java的开发环境</span></a></h5><blockquote><p>使用以下命令：</p><p>yum -y install java-1.8.0-openjdk-devel.x86_64</p></blockquote><p><img src="`+u+`" alt="image-20230130100701683"></p><blockquote><p>等待安装完毕，再次执行： <code>javac</code></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># javac</span></span>
<span class="line">Usage: javac <span class="token operator">&lt;</span>options<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>source files<span class="token operator">&gt;</span></span>
<span class="line">where possible options include:</span>
<span class="line">  <span class="token parameter variable">-g</span>                         Generate all debugging info</span>
<span class="line">  <span class="token parameter variable">-g:none</span>                    Generate no debugging info</span>
<span class="line">  -g:<span class="token punctuation">{</span>lines,vars,source<span class="token punctuation">}</span>     Generate only some debugging info</span>
<span class="line">  <span class="token parameter variable">-nowarn</span>                    Generate no warnings</span>
<span class="line">  <span class="token parameter variable">-verbose</span>                   Output messages about what the compiler is doing</span>
<span class="line">  <span class="token parameter variable">-deprecation</span>               Output <span class="token builtin class-name">source</span> locations where deprecated APIs are used</span>
<span class="line">  <span class="token parameter variable">-classpath</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>          Specify where to <span class="token function">find</span> user class files and annotation processors</span>
<span class="line">  <span class="token parameter variable">-cp</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>                 Specify where to <span class="token function">find</span> user class files and annotation processors</span>
<span class="line">  <span class="token parameter variable">-sourcepath</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>         Specify where to <span class="token function">find</span> input <span class="token builtin class-name">source</span> files</span>
<span class="line">  <span class="token parameter variable">-bootclasspath</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>      Override location of bootstrap class files</span>
<span class="line">  <span class="token parameter variable">-extdirs</span> <span class="token operator">&lt;</span>dirs<span class="token operator">&gt;</span>            Override location of installed extensions</span>
<span class="line">  <span class="token parameter variable">-endorseddirs</span> <span class="token operator">&lt;</span>dirs<span class="token operator">&gt;</span>       Override location of endorsed standards path</span>
<span class="line">  -proc:<span class="token punctuation">{</span>none,only<span class="token punctuation">}</span>          Control whether annotation processing and/or compilation is done.</span>
<span class="line">  <span class="token parameter variable">-processor</span> <span class="token operator">&lt;</span>class<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">[</span>,<span class="token operator">&lt;</span>class<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>,<span class="token operator">&lt;</span>class<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> Names of the annotation processors to run<span class="token punctuation">;</span> bypasses default discovery process</span>
<span class="line">  <span class="token parameter variable">-processorpath</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>      Specify where to <span class="token function">find</span> annotation processors</span>
<span class="line">  <span class="token parameter variable">-parameters</span>                Generate metadata <span class="token keyword">for</span> reflection on method parameters</span>
<span class="line">  <span class="token parameter variable">-d</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span>             Specify where to place generated class files</span>
<span class="line">  <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span>             Specify where to place generated <span class="token builtin class-name">source</span> files</span>
<span class="line">  <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span>             Specify where to place generated native header files</span>
<span class="line">  -implicit:<span class="token punctuation">{</span>none,class<span class="token punctuation">}</span>     Specify whether or not to generate class files <span class="token keyword">for</span> implicitly referenced files</span>
<span class="line">  <span class="token parameter variable">-encoding</span> <span class="token operator">&lt;</span>encoding<span class="token operator">&gt;</span>       Specify character encoding used by <span class="token builtin class-name">source</span> files</span>
<span class="line">  <span class="token parameter variable">-source</span> <span class="token operator">&lt;</span>release<span class="token operator">&gt;</span>          Provide <span class="token builtin class-name">source</span> compatibility with specified release</span>
<span class="line">  <span class="token parameter variable">-target</span> <span class="token operator">&lt;</span>release<span class="token operator">&gt;</span>          Generate class files <span class="token keyword">for</span> specific VM version</span>
<span class="line">  <span class="token parameter variable">-profile</span> <span class="token operator">&lt;</span>profile<span class="token operator">&gt;</span>         Check that API used is available <span class="token keyword">in</span> the specified profile</span>
<span class="line">  <span class="token parameter variable">-version</span>                   Version information</span>
<span class="line">  <span class="token parameter variable">-help</span>                      Print a synopsis of standard options</span>
<span class="line">  -Akey<span class="token punctuation">[</span><span class="token operator">=</span>value<span class="token punctuation">]</span>              Options to pass to annotation processors</span>
<span class="line">  <span class="token parameter variable">-X</span>                         Print a synopsis of nonstandard options</span>
<span class="line">  -J<span class="token operator">&lt;</span>flag<span class="token operator">&gt;</span>                   Pass <span class="token operator">&lt;</span>flag<span class="token operator">&gt;</span> directly to the runtime system</span>
<span class="line">  <span class="token parameter variable">-Werror</span>                    Terminate compilation <span class="token keyword">if</span> warnings occur</span>
<span class="line">  @<span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>                Read options and filenames from <span class="token function">file</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>此时，说明java已经可用了，说明开发环境已经 OK。</p></blockquote><h5 id="_4-1-7-设置环境变量" tabindex="-1"><a class="header-anchor" href="#_4-1-7-设置环境变量"><span>4.1.7 设置环境变量</span></a></h5><blockquote><p>修改/etc/profile 文件：vi /etc/profile</p><p>在 profile 文件末尾新增如下内容：</p><p><strong>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64</strong></p><p><strong>JRE_HOME=$JAVA_HOME/jre</strong></p><p><strong>CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</strong></p><p><strong>PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</strong></p><p><strong>export JAVA_HOME JRE_HOME CLASS_PATH PATH</strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/profile</span></span>
<span class="line">输入i 进入输入模式</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>粘贴环境变量内容如下图：</p></blockquote><p><img src="`+d+`" alt="image-20230130101157277"></p><blockquote><p>Esc + wq! 保存即可</p></blockquote><blockquote><p>再次查看配置：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/profile</span></span>
<span class="line"><span class="token punctuation">..</span>.</span>
<span class="line"><span class="token assign-left variable">HISTORY</span><span class="token operator">=</span><span class="token number">1000</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64</span>
<span class="line"><span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/jre</span>
<span class="line"><span class="token assign-left variable">CLASS_PATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar:<span class="token variable">$JRE_HOME</span>/lib</span>
<span class="line"><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$JRE_HOME</span>/bin</span>
<span class="line"><span class="token builtin class-name">export</span> JAVA_HOME JRE_HOME CLASS_PATH <span class="token environment constant">PATH</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># ^C</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>最后，激活配置。 使用命令： <code>source /etc/profile</code></p></blockquote><h5 id="_4-1-8-验证环境变量" tabindex="-1"><a class="header-anchor" href="#_4-1-8-验证环境变量"><span>4.1.8 验证环境变量</span></a></h5><blockquote><p>使用命令：</p><p>java -version</p><p>echo $JAVA_HOME</p><p>echo $JRE_HOME</p><p>echo $CLASSPATH</p><p>echo $PATH</p><p>进行验证</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># java -version</span></span>
<span class="line">openjdk version <span class="token string">&quot;1.8.0_362&quot;</span></span>
<span class="line">OpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_362-b08<span class="token punctuation">)</span></span>
<span class="line">OpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.362</span>-b08, mixed mode<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># echo $JAVA_HOME</span></span>
<span class="line">/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># echo $JRE_HOME</span></span>
<span class="line">/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span></span>
<span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/bin:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># echo $CLASSPATH</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># echo $CLASS_PATH</span></span>
<span class="line">.:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/lib/dt.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/lib/tools.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/lib</span>
<span class="line"><span class="token punctuation">[</span>root@localhost02 ~<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>至此，Linux下CentOS系统安装OpenJDK8 完毕。</p></blockquote><h5 id="_4-1-9-命令整合" tabindex="-1"><a class="header-anchor" href="#_4-1-9-命令整合"><span>4.1.9 命令整合</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum search <span class="token function">java</span><span class="token operator">|</span><span class="token function">grep</span> jdk <span class="token operator">&amp;&amp;</span></span>
<span class="line">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> java-1.8.0-openjdk <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">which</span> <span class="token function">java</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">ls</span> <span class="token parameter variable">-lrt</span> /usr/bin/java <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">ls</span> <span class="token parameter variable">-lrt</span> /etc/alternatives/java <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">ls</span> <span class="token parameter variable">-lrt</span> /etc/alternatives/java <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">cd</span> /usr/lib/jvm <span class="token operator">&amp;&amp;</span></span>
<span class="line">ll <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">java</span> <span class="token parameter variable">-version</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> java-1.8.0-openjdk-devel.x86_64 <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.el7_9.x86_64&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iJRE_HOME=$JAVA_HOME/jre&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iCLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iPATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/iexport JAVA_HOME JRE_HOME CLASS_PATH PATH&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/unset i/i\\\\n&#39;</span> /etc/profile <span class="token operator">&amp;&amp;</span></span>
<span class="line"><span class="token builtin class-name">source</span> /etc/profile <span class="token operator">&amp;&amp;</span> </span>
<span class="line"><span class="token function">java</span> <span class="token parameter variable">-version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-ali-centos7-linux下安装部署nexus-下载、安装、使用" tabindex="-1"><a class="header-anchor" href="#_4-2-ali-centos7-linux下安装部署nexus-下载、安装、使用"><span>4.2 Ali CentOS7-Linux下安装部署Nexus(下载、安装、使用)</span></a></h4><h5 id="_4-2-1-准备工作" tabindex="-1"><a class="header-anchor" href="#_4-2-1-准备工作"><span>4.2.1 准备工作</span></a></h5><blockquote><ul><li><p>由于Nexus 是基于 Java 语言的，因此安装 Nexus 必须先安装好JAVA(JDK)</p></li><li><p>Nexus需要服务器的配置校验，需要4核16G以上</p></li><li><p>服务器需要开放端口号：8081/或者自定义的端口号</p></li></ul></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看所有开放的端口号</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --list-ports</span>
<span class="line"><span class="token comment"># 添加8081/或者自定义的端口号为开放的端口号</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8081</span>/tcp</span>
<span class="line"><span class="token comment"># 重启防火墙</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--reload</span></span>
<span class="line"><span class="token comment"># 查看所有开放的端口号</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --list-ports</span>
<span class="line"><span class="token comment"># 查看服务器配置</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 jvm<span class="token punctuation">]</span><span class="token comment"># sudo firewall-cmd --zone=public --list-ports</span></span>
<span class="line"><span class="token number">1935</span>/tcp <span class="token number">8080</span>/tcp <span class="token number">8081</span>/tcp <span class="token number">8082</span>/tcp <span class="token number">8083</span>/tcp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-2-2-下载nexus的linux环境安装包" tabindex="-1"><a class="header-anchor" href="#_4-2-2-下载nexus的linux环境安装包"><span>4.2.2 下载Nexus的Linux环境安装包</span></a></h5><blockquote><p>因为官网下载需要VPN并且下载贼慢，所以建议百度云盘下载，下面提供一个永久的链接</p><p>链接：https://pan.baidu.com/s/1GyS34RxJKiNhVGl3NoRifQ?pwd=khfp</p><p>提取码：khfp</p></blockquote><h5 id="_4-2-3-上传安装包" tabindex="-1"><a class="header-anchor" href="#_4-2-3-上传安装包"><span>4.2.3 上传安装包</span></a></h5><blockquote><p>下载完毕需要将该文件上传到服务器中，执行命令如下：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 /<span class="token punctuation">]</span><span class="token comment"># cd /home/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 home<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 home<span class="token punctuation">]</span><span class="token comment"># mkdir qianpz</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 home<span class="token punctuation">]</span><span class="token comment"># cd qianpz/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 qianpz<span class="token punctuation">]</span><span class="token comment"># mkdir nexus</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 qianpz<span class="token punctuation">]</span><span class="token comment"># ls</span></span>
<span class="line">nexus</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 qianpz<span class="token punctuation">]</span><span class="token comment"># cd nexus/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># pwd</span></span>
<span class="line">/home/qianpz/nexus</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># rz</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">156264</span></span>
<span class="line">-rw-r--r-- <span class="token number">1</span> root root <span class="token number">160013693</span> Sep  <span class="token number">7</span> <span class="token number">15</span>:15 nexus-3.25.1-04-unix.tar.gz</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-2-4-解压安装包" tabindex="-1"><a class="header-anchor" href="#_4-2-4-解压安装包"><span>4.2.4 解压安装包</span></a></h5><blockquote><p>tar -zxvf nexus-3.25.1-04-unix.tar.gz</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># tar -zxvf nexus-3.25.1-04-unix.tar.gz</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># ...</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">156264</span></span>
<span class="line">drwxr-xr-x <span class="token number">9</span> root root       <span class="token number">163</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 nexus-3.25.1-04</span>
<span class="line">-rw-r--r-- <span class="token number">1</span> root root <span class="token number">160013693</span> Sep  <span class="token number">7</span> <span class="token number">15</span>:15 nexus-3.25.1-04-unix.tar.gz</span>
<span class="line">drwxr-xr-x <span class="token number">3</span> root root        <span class="token number">20</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 sonatype-work</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这里可以看到2个文件夹:</p><p>nexus-3.25.1-04 用于实现nexus的功能</p><p>sonatype-work 用于存储数据</p></blockquote><h5 id="_4-2-5-启动nexus" tabindex="-1"><a class="header-anchor" href="#_4-2-5-启动nexus"><span>4.2.5 启动Nexus</span></a></h5><h6 id="_4-2-5-1-启动命令" tabindex="-1"><a class="header-anchor" href="#_4-2-5-1-启动命令"><span>4.2.5.1 启动命令</span></a></h6><blockquote><p>首先，进入该安装包的bin目录下,可以看到nexus的脚本文件，可以进入查看如下：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 nexus<span class="token punctuation">]</span><span class="token comment"># cd nexus-3.25.1-04</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus-3.25.1-04<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">76</span></span>
<span class="line">drwxr-xr-x  <span class="token number">3</span> root root    <span class="token number">73</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 bin</span>
<span class="line">drwxr-xr-x  <span class="token number">2</span> root root    <span class="token number">26</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 deploy</span>
<span class="line">drwxr-xr-x  <span class="token number">7</span> root root   <span class="token number">104</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 etc</span>
<span class="line">drwxr-xr-x  <span class="token number">5</span> root root   <span class="token number">206</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 lib</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root   <span class="token number">395</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> NOTICE.txt</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root <span class="token number">17321</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> OSS-LICENSE.txt</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root <span class="token number">41954</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> PRO-LICENSE.txt</span>
<span class="line">drwxr-xr-x  <span class="token number">3</span> root root  <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 public</span>
<span class="line">drwxr-xr-x <span class="token number">21</span> root root  <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 system</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus-3.25.1-04<span class="token punctuation">]</span><span class="token comment"># cd bin/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 bin<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">32</span></span>
<span class="line">drwxr-xr-x <span class="token number">2</span> root root  <span class="token number">4096</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 contrib</span>
<span class="line">-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">18544</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> nexus</span>
<span class="line">-rw-r--r-- <span class="token number">1</span> root root    <span class="token number">15</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> nexus.rc</span>
<span class="line">-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">1504</span> Jul <span class="token number">30</span>  <span class="token number">2020</span> nexus.vmoptions</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 bin<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>cat nexus</p><p>可以看到最后有一串： 如下图：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">*<span class="token punctuation">)</span></span>
<span class="line"> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: <span class="token variable">$0</span> {start|stop|run|run-redirect|status|restart|force-reload}&quot;</span></span>
<span class="line"> <span class="token builtin class-name">exit</span> <span class="token number">1</span></span>
<span class="line"><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><blockquote><p>通过观察该文件文本内容，可以看到 start 和 run 命令都可以用来启动 Nexus 服务；区别在于：</p><p>start 是后台启动，日志以文件形式保存；</p><p>run 是当前进程启动，直接打印在控制台；</p><p>stop 是停止进程</p><p>restart 重启服务</p><p>status 查看服务状态</p><p>so 启动命令为：</p><p>./nexus restart</p></blockquote><h6 id="_4-2-5-2-服务的端口号配置" tabindex="-1"><a class="header-anchor" href="#_4-2-5-2-服务的端口号配置"><span>4.2.5.2 服务的端口号配置</span></a></h6><blockquote><p>Nexus的默认端口号为8081，可以通过下面的配置查看和修改:</p><p>cat ../etc/nexus-default.properties</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 etc<span class="token punctuation">]</span><span class="token comment"># cat nexus-default.properties </span></span>
<span class="line"><span class="token comment">## DO NOT EDIT - CUSTOMIZATIONS BELONG IN $data-dir/etc/nexus.properties</span></span>
<span class="line"><span class="token comment">##</span></span>
<span class="line"><span class="token comment"># Jetty section</span></span>
<span class="line">application-port<span class="token operator">=</span><span class="token number">8081</span></span>
<span class="line">application-host<span class="token operator">=</span><span class="token number">0.0</span>.0.0</span>
<span class="line">nexus-args<span class="token operator">=</span><span class="token variable">\${jetty.etc}</span>/jetty.xml,<span class="token variable">\${jetty.etc}</span>/jetty-http.xml,<span class="token variable">\${jetty.etc}</span>/jetty-requestlog.xml</span>
<span class="line">nexus-context-path<span class="token operator">=</span>/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Nexus section</span></span>
<span class="line">nexus-edition<span class="token operator">=</span>nexus-pro-edition</span>
<span class="line">nexus-features<span class="token operator">=</span><span class="token punctuation">\\</span></span>
<span class="line">nexus-pro-feature</span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">nexus.hazelcast.discovery.isEnabled</span><span class="token operator">=</span>true</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 etc<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以查看nexus.properties中存在 application-port=8081，若需要变更，自行修改即可。这里默认8081.</p></blockquote><h6 id="_4-2-5-3-启动服务" tabindex="-1"><a class="header-anchor" href="#_4-2-5-3-启动服务"><span>4.2.5.3 启动服务</span></a></h6><blockquote><p>使用命令：</p><p>cd /home/qianpz/nexus</p><p>cd /nexus-3.25.1-04/bin</p><p>./nexus start</p></blockquote><h6 id="_4-2-5-4-验证是否启动成功" tabindex="-1"><a class="header-anchor" href="#_4-2-5-4-验证是否启动成功"><span>4.2.5.4 验证是否启动成功</span></a></h6><blockquote><p>等待1分钟后，nexus启动较慢；</p><p>然后进入浏览器，输入 http://ip:8081/nexus 查看即可，ip为你的服务器IP</p><p>出现下图：</p><p><img src="`+m+`" alt="image-20230208204155943"></p><p>此时： 说明已经启动成功了。</p></blockquote><h5 id="_4-2-6-centos启动立即启动nexus设置" tabindex="-1"><a class="header-anchor" href="#_4-2-6-centos启动立即启动nexus设置"><span>4.2.6 CentOS启动立即启动Nexus设置</span></a></h5><h6 id="_4-2-6-1-新建nexus启动脚本" tabindex="-1"><a class="header-anchor" href="#_4-2-6-1-新建nexus启动脚本"><span>4.2.6.1 新建Nexus启动脚本</span></a></h6><blockquote><p>进入<code>/etc/init.d</code>目录，新建脚本文件nexus进入<code>/etc/init.d</code>目录，新建脚本文件nexus</p></blockquote><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token namespace">[root@localhost1 ~]</span><span class="token comment"># cd /etc/init.d/</span></span>
<span class="line"><span class="token namespace">[root@localhost1 init.d]</span><span class="token comment"># ll</span></span>
<span class="line">total 40</span>
<span class="line"><span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root 18281 May 22  2020 functions</span>
<span class="line"><span class="token operator">-</span>rwxr-xr-x<span class="token punctuation">.</span> 1 root root  4569 May 22  2020 netconsole</span>
<span class="line"><span class="token operator">-</span>rwxr-xr-x<span class="token punctuation">.</span> 1 root root  7928 May 22  2020 network</span>
<span class="line"><span class="token operator">-</span>rw-r-<span class="token operator">-</span>r-<span class="token operator">-</span>  1 root root  1160 Sep  1 22:57 README</span>
<span class="line"><span class="token namespace">[root@localhost1 init.d]</span><span class="token comment"># vim nexus</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>i 进入输入模式：</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token comment">#chkconfig:2345 20 90</span></span>
<span class="line"><span class="token comment">#description:nexus</span></span>
<span class="line"><span class="token comment">#processname:nexus</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b07-1.el7_9.x86_64</span>
<span class="line"></span>
<span class="line"><span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span></span>
<span class="line">        start<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  start<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        stop<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  stop<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        status<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  status<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        restart<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  restart<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        dunp<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  dump<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        console<span class="token punctuation">)</span> <span class="token function">su</span> root /home/qianpz/nexus/nexus-3.25.1-04/bin/nexus  console<span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: nexus {start|stop|restart|status|run|run-redirect|force-reload}&quot;</span></span>
<span class="line"><span class="token keyword">esac</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>wq! 保存</p></blockquote><h6 id="_4-2-6-2-脚本赋权限" tabindex="-1"><a class="header-anchor" href="#_4-2-6-2-脚本赋权限"><span>4.2.6.2 脚本赋权限</span></a></h6><blockquote><p>chmod 777 nexus</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">44</span></span>
<span class="line">-rw-r--r--. <span class="token number">1</span> root root <span class="token number">18281</span> May <span class="token number">22</span>  <span class="token number">2020</span> functions</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">4569</span> May <span class="token number">22</span>  <span class="token number">2020</span> netconsole</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">7928</span> May <span class="token number">22</span>  <span class="token number">2020</span> network</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root   <span class="token number">676</span> Feb  <span class="token number">9</span> 00:31 nexus</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">1160</span> Sep  <span class="token number">1</span> <span class="token number">22</span>:57 README</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># chmod 777 nexus </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">44</span></span>
<span class="line">-rw-r--r--. <span class="token number">1</span> root root <span class="token number">18281</span> May <span class="token number">22</span>  <span class="token number">2020</span> functions</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">4569</span> May <span class="token number">22</span>  <span class="token number">2020</span> netconsole</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">7928</span> May <span class="token number">22</span>  <span class="token number">2020</span> network</span>
<span class="line"><span class="token parameter variable">-rwxrwxrwx</span>  <span class="token number">1</span> root root   <span class="token number">676</span> Feb  <span class="token number">9</span> 00:31 nexus</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">1160</span> Sep  <span class="token number">1</span> <span class="token number">22</span>:57 README</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_4-2-6-3-配置开机自启动" tabindex="-1"><a class="header-anchor" href="#_4-2-6-3-配置开机自启动"><span>4.2.6.3 配置开机自启动</span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># chkconfig --add nexus</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># chkconfig --list nexus</span></span>
<span class="line"></span>
<span class="line">Note: This output shows SysV services only and does not include native</span>
<span class="line">      systemd services. SysV configuration data might be overridden by native</span>
<span class="line">      systemd configuration.</span>
<span class="line"></span>
<span class="line">      If you want to list systemd services use <span class="token string">&#39;systemctl list-unit-files&#39;</span><span class="token builtin class-name">.</span></span>
<span class="line">      To see services enabled on particular target use</span>
<span class="line">      <span class="token string">&#39;systemctl list-dependencies [target]&#39;</span><span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line">nexus          	<span class="token number">0</span>:off	<span class="token number">1</span>:off	<span class="token number">2</span>:on	<span class="token number">3</span>:on	<span class="token number">4</span>:on	<span class="token number">5</span>:on	<span class="token number">6</span>:off</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_5-2-6-4-验证开机是否自启动" tabindex="-1"><a class="header-anchor" href="#_5-2-6-4-验证开机是否自启动"><span>5.2.6.4 验证开机是否自启动</span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># servic nexus status</span></span>
<span class="line">-bash: servic: <span class="token builtin class-name">command</span> not found</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># service nexus status</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">WARNING: Detected execution as <span class="token string">&quot;root&quot;</span> user.  This is NOT recommended<span class="token operator">!</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">nexus is stopped.</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>重启服务器</p><p>shutdown -r now</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># shutdown -r now</span></span>
<span class="line">Connection closing<span class="token punctuation">..</span>.Socket close.</span>
<span class="line"></span>
<span class="line">Connection closed by foreign host.</span>
<span class="line"></span>
<span class="line">Disconnected from remote host<span class="token punctuation">(</span>虚拟机-192.168.187.128<span class="token punctuation">)</span> at 00:40:48.</span>
<span class="line"></span>
<span class="line">Type \`help&#39; to learn how to use Xshell prompt.</span>
<span class="line"><span class="token punctuation">[</span>C:<span class="token punctuation">\\</span>~<span class="token punctuation">]</span>$ </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>重新连接：查看</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/init.d/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">44</span></span>
<span class="line">-rw-r--r--. <span class="token number">1</span> root root <span class="token number">18281</span> May <span class="token number">22</span>  <span class="token number">2020</span> functions</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">4569</span> May <span class="token number">22</span>  <span class="token number">2020</span> netconsole</span>
<span class="line">-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">7928</span> May <span class="token number">22</span>  <span class="token number">2020</span> network</span>
<span class="line"><span class="token parameter variable">-rwxrwxrwx</span>  <span class="token number">1</span> root root   <span class="token number">676</span> Feb  <span class="token number">9</span> 00:31 nexus</span>
<span class="line">-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">1160</span> Sep  <span class="token number">1</span> <span class="token number">22</span>:57 README</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># service nexus status</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">WARNING: Detected execution as <span class="token string">&quot;root&quot;</span> user.  This is NOT recommended<span class="token operator">!</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">nexus is running.</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以看到 nexus is running 了 ！ 说明 nexus 随服务器的启动自启动成功了。</p></blockquote><h5 id="_4-2-7-nexus的使用" tabindex="-1"><a class="header-anchor" href="#_4-2-7-nexus的使用"><span>4.2.7 Nexus的使用</span></a></h5><h6 id="_4-2-7-1-登录和查看nexus的控制台的账号和密码" tabindex="-1"><a class="header-anchor" href="#_4-2-7-1-登录和查看nexus的控制台的账号和密码"><span>4.2.7.1 登录和查看nexus的控制台的账号和密码\`</span></a></h6><blockquote><p>进入目录: sonatype-work/nexus3下，如图：使用cat进行查看密码:</p><p>cat admin.password</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">    <span class="token punctuation">[</span>root@localhost1 init.d<span class="token punctuation">]</span><span class="token comment"># cd /home/qianpz/nexus/sonatype-work/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 sonatype-work<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">0</span></span>
<span class="line">drwxr-xr-x <span class="token number">14</span> root root <span class="token number">259</span> Feb  <span class="token number">9</span> 00:41 nexus3</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 sonatype-work<span class="token punctuation">]</span><span class="token comment"># cd nexus3/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus3<span class="token punctuation">]</span><span class="token comment"># ll</span></span>
<span class="line">total <span class="token number">28</span></span>
<span class="line">-rw-r--r--   <span class="token number">1</span> root root   <span class="token number">36</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 admin.password</span>
<span class="line">drwxr-xr-x   <span class="token number">3</span> root root   <span class="token number">21</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 blobs</span>
<span class="line">drwxr-xr-x <span class="token number">316</span> root root <span class="token number">8192</span> Feb  <span class="token number">9</span> 00:42 cache</span>
<span class="line">drwxr-xr-x   <span class="token number">6</span> root root  <span class="token number">113</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 db</span>
<span class="line">drwxr-xr-x   <span class="token number">3</span> root root   <span class="token number">19</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 elasticsearch</span>
<span class="line">drwxr-xr-x   <span class="token number">3</span> root root   <span class="token number">45</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:39 etc</span>
<span class="line">drwxr-xr-x   <span class="token number">2</span> root root    <span class="token number">6</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:39 generated-bundles</span>
<span class="line">drwxr-xr-x   <span class="token number">2</span> root root   <span class="token number">33</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:39 instances</span>
<span class="line">-rw-r--r--   <span class="token number">1</span> root root    <span class="token number">4</span> Feb  <span class="token number">9</span> 00:41 karaf.pid</span>
<span class="line">drwxr-xr-x   <span class="token number">3</span> root root   <span class="token number">18</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 keystores</span>
<span class="line">-rw-r--r--   <span class="token number">1</span> root root   <span class="token number">15</span> Feb  <span class="token number">9</span> 00:41 lock</span>
<span class="line">drwxr-xr-x   <span class="token number">4</span> root root  <span class="token number">209</span> Feb  <span class="token number">9</span> 00:43 log</span>
<span class="line">drwxr-xr-x   <span class="token number">3</span> root root   <span class="token number">21</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:29 orient</span>
<span class="line">-rw-r--r--   <span class="token number">1</span> root root    <span class="token number">5</span> Feb  <span class="token number">9</span> 00:41 port</span>
<span class="line">drwxr-xr-x   <span class="token number">2</span> root root    <span class="token number">6</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:40 restore-from-backup</span>
<span class="line">drwxr-xr-x   <span class="token number">8</span> root root  <span class="token number">228</span> Feb  <span class="token number">9</span> 00:42 tmp</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus3<span class="token punctuation">]</span><span class="token comment"># pwd</span></span>
<span class="line">/home/qianpz/nexus/sonatype-work/nexus3</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 nexus3<span class="token punctuation">]</span><span class="token comment"># cat admin.password</span></span>
<span class="line">f59595fd-e073-4f5c-8946-b8228218dd62<span class="token punctuation">[</span>root@localhost1 nexus3<span class="token punctuation">]</span><span class="token comment">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这里说明：f59595fd-e073-4f5c-8946-b8228218dd62 就是初始密码</p></blockquote><h6 id="_4-2-7-2-登录nexus控制台" tabindex="-1"><a class="header-anchor" href="#_4-2-7-2-登录nexus控制台"><span>4.2.7.2 登录Nexus控制台</span></a></h6><ul><li><p><img src="`+k+'" alt="image-20230209005118975"></p></li><li><p><img src="'+v+'" alt="image-20230209005135727"></p></li><li><p><strong><img src="'+b+'" alt="image-20230209005148503"></strong></p></li><li><p><img src="'+h+'" alt="image-20230209005208908"></p></li></ul><blockquote><p>这里为了方便，密码为: admin</p></blockquote><ul><li><p><img src="'+g+'" alt="image-20230209005232125"></p></li><li><p><img src="'+x+'" alt="image-20230209005247227"></p></li></ul><h6 id="_4-2-7-3-nexus-system-status-处理" tabindex="-1"><a class="header-anchor" href="#_4-2-7-3-nexus-system-status-处理"><span>4.2.7.3 Nexus System Status 处理</span></a></h6><p><img src="'+y+`" alt="image-20230209005522326"></p><blockquote><p>这个是因为服务器中的配置导致。</p><p>原因是 Nexus 3 将很有可能要消耗比 Linux 或 OSX 操作系统允许每个用户的默认文件句柄数（4096）更多的数量。</p><p><strong>解决方法</strong>:</p><p>在多数 Linux 系统上，可以通过编辑 <code>/etc/security/limits.conf</code> 文件为特定用户设置持久限制。若要将 Nexus 用户的软限制和硬限制的最大打开文件数设置为 65536，请在 <code>/etc/security/limits.conf</code> 文件中添加以下行，其中 “nexus” 应该替换为用于运行 <code>Nexus</code> 的用户登录名（如 <code>root</code>）：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">1nexus <span class="token operator">-</span> nofile <span class="token number">65536</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>保存此配置文件后重启 Nexus</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 nexus3<span class="token punctuation">]</span><span class="token comment"># cd /etc/security/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 security<span class="token punctuation">]</span><span class="token comment"># pwd</span></span>
<span class="line">/etc/security</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 security<span class="token punctuation">]</span><span class="token comment"># ls</span></span>
<span class="line">access.conf  console.apps      console.perms    group.conf   limits.d        namespace.d     opasswd       pwquality.conf  time.conf</span>
<span class="line">chroot.conf  console.handlers  console.perms.d  limits.conf  namespace.conf  namespace.init  pam_env.conf  sepermit.conf</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 security<span class="token punctuation">]</span><span class="token comment"># vim limits.conf </span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 security<span class="token punctuation">]</span><span class="token comment"># </span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+f+`" alt="image-20230209010535040"></p><blockquote><p>重启服务器 重启Nexux</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@localhost1 security<span class="token punctuation">]</span><span class="token comment"># cd /home/qianpz/nexus/nexus-3.25.1-04/bin/</span></span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 bin<span class="token punctuation">]</span><span class="token comment"># ./nexus restart</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">WARNING: Detected execution as <span class="token string">&quot;root&quot;</span> user.  This is NOT recommended<span class="token operator">!</span></span>
<span class="line">WARNING: ************************************************************</span>
<span class="line">Shutting down nexus</span>
<span class="line">Stopped.</span>
<span class="line">Restarting nexus</span>
<span class="line"><span class="token punctuation">[</span>root@localhost1 bin<span class="token punctuation">]</span><span class="token comment"># shutdown -r now</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>再次登录查看System Status：</p></blockquote><p><img src="`+O+'" alt="image-20230209011232818"></p><h6 id="_4-2-7-4-创建阿里云的代理仓库maven-aliyun" tabindex="-1"><a class="header-anchor" href="#_4-2-7-4-创建阿里云的代理仓库maven-aliyun"><span>4.2.7.4 创建阿里云的代理仓库maven-aliyun</span></a></h6><p>Nexus中可以创建三种仓库类型，分别为proxy、group、hosted，其中proxy就是仓库代理，我们可以代理其他的Maven仓库</p><ul><li>首先点击Create repository按钮</li></ul><p><img src="'+_+'" alt="image-20230209095440133"></p><ul><li>选择Maven2(proxy)</li></ul><p><img src="'+S+'" alt="image-20230209101220329"></p><ul><li>输入Name，Url，其他的保持默认值</li></ul><blockquote><p>https://IP/repository/maven-aliyun/</p></blockquote><p><img src="'+j+'" alt="image-20230209102610044"></p><ul><li><p>创建成功</p><p><img src="'+q+'" alt="image-20230209103047561"></p></li></ul><h6 id="_4-2-7-5-创建阿里云的代理仓库nexus-aliyun" tabindex="-1"><a class="header-anchor" href="#_4-2-7-5-创建阿里云的代理仓库nexus-aliyun"><span>4.2.7.5 创建阿里云的代理仓库nexus-aliyun</span></a></h6><ul><li><p><img src="'+w+'" alt="image-20230209103219282"></p></li><li><p><img src="'+C+'" alt="image-20230209103246231"></p></li><li><p><img src="'+E+`" alt="image-20230209103356799"></p></li></ul><blockquote><p>https://IP/repository/nexus-aliyun/</p></blockquote><h5 id="_4-2-8-maven中的setting-xml-配置" tabindex="-1"><a class="header-anchor" href="#_4-2-8-maven中的setting-xml-配置"><span>4.2.8 maven中的Setting.xml 配置</span></a></h5><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>virtual-nexus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token comment">&lt;!--This sends everything else to /public --&gt;</span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://192.168.187.128:8081/repository/maven-public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span> </span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>virtual-nexus-profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>virtual-nexus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://192.168.187.128:8081/repository/maven-public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginRepositories</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginRepository</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>virtual-nexus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://192.168.187.128:8081/repository/maven-public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>      </span>
<span class="line">				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginRepository</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line">			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginRepositories</span><span class="token punctuation">&gt;</span></span> </span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfile</span><span class="token punctuation">&gt;</span></span>virtual-nexus-profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfile</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-2-9-遇到的问题和解决方案" tabindex="-1"><a class="header-anchor" href="#_4-2-9-遇到的问题和解决方案"><span>4.2.9 遇到的问题和解决方案</span></a></h5><h6 id="_4-2-9-1-deploy-报-400" tabindex="-1"><a class="header-anchor" href="#_4-2-9-1-deploy-报-400"><span>4.2.9.1 deploy 报 400</span></a></h6><blockquote><p>现象：maven return code is:400,ReasonPhrase:Repository does not allow updating assets</p></blockquote><p><img src="`+B+'" alt="image-20230210101517051"></p><blockquote><p>原因： 发布版本不允许重复发布</p></blockquote><blockquote><p>解决方案：去nexus配置，如下图</p></blockquote><p><img src="'+R+'" alt="image-20240712141327936"></p><p><img src="'+A+'" alt="image-20230210101214668"></p>',215))])}const V=J(M,[["render",L],["__file","ali_002.html.vue"]]),F=JSON.parse('{"path":"/md/more/ali/ali_002.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Ali CentOS 7 Minimal 新手教程引导","slug":"ali-centos-7-minimal-新手教程引导","link":"#ali-centos-7-minimal-新手教程引导","children":[{"level":3,"title":"一、Ali CentOS7-Linux下yum换源为阿里yum源","slug":"一、ali-centos7-linux下yum换源为阿里yum源","link":"#一、ali-centos7-linux下yum换源为阿里yum源","children":[]},{"level":3,"title":"二、Ali CentOS7-Linux下基础依赖部署","slug":"二、ali-centos7-linux下基础依赖部署","link":"#二、ali-centos7-linux下基础依赖部署","children":[]},{"level":3,"title":"三、Ali CentOS7-Linux下常用设置安装","slug":"三、ali-centos7-linux下常用设置安装","link":"#三、ali-centos7-linux下常用设置安装","children":[]},{"level":3,"title":"四、Ali CentOS7-Linux下安装软件","slug":"四、ali-centos7-linux下安装软件","link":"#四、ali-centos7-linux下安装软件","children":[]}]}],"filePathRelative":"md/more/ali/ali_002.md","git":{"createdTime":1728727659000,"updatedTime":1729584750000,"contributors":[{"name":"qianpengzhan","email":"873373549@qq.com","commits":1}]},"readingTime":{"minutes":23.1,"words":6931}}');export{V as comp,F as data};
