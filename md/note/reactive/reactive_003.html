<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>第三章: Reactive Streams 规范 | 学习笔记</title><meta name="description" content="记录本人技术学习的笔记和总结">
    <link rel="preload" href="/qianpengzhan/assets/style-DSwwElRy.css" as="style"><link rel="stylesheet" href="/qianpengzhan/assets/style-DSwwElRy.css">
    <link rel="modulepreload" href="/qianpengzhan/assets/app-GRT9i7xS.js"><link rel="modulepreload" href="/qianpengzhan/assets/reactive_003.html-CAfrRMeL.js">
    <link rel="prefetch" href="/qianpengzhan/assets/index.html-DCeZpdAc.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CKG4U5EP.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DwebCIG3.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_001.html-BHKrgAFw.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_002.html-CFjXJdLs.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_003.html-DcPWutt6.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_004.html-C0dRyMvP.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_005.html-C70LsW-i.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_006.html-CrNOkydx.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_007.html-ClZEZjpk.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_008.html-D9vd6r5S.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_009.html-qMeIfDEP.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_010.html-D5BjF7C_.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/algorithm_011.html-3V_c9fJ0.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DzH4qjZE.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-BiFa33Vi.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/interview_001.html-CbUJhcvY.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-BJSUcxz3.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DeW5ae5y.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/ali_001.html-B_Eb3pgv.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/ali_002.html-DSh2smv1.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/essay_001_linux_command.html-BGGSZ8JE.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/essay_002_vuepress.html-BCPY87D0.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/essay_003_dos_command.html-n4DhDqV4.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/essay_004_nodepad.html-BwexHwx_.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/ro_001.html-MLTb7yEB.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/ro_002.html-C33QctM4.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/ro_003.html-CafWjWuY.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DXV7LXlX.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CTCHiVCQ.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-BMu8ixa4.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_001.html-Dy-f357W.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_002.html-DgkGjrho.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_004.html-IofY_cQ3.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_005.html-BJmJue6G.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_006.html-DzVXa4Qn.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/reactive_007.html-BljyVIqA.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/refer_reactive_streams.html-BsSTPXB7.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/question_idea_001.html-aP8I7Glp.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/question_idea_002.html-B2KS3Enw.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/question_net_001.html-CAS4fSgW.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CLnpgRig.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/golang_001.html-BCyvjTSE.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CpZzaxfD.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_001.html-C9Bdu_pk.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_002.html-CRwVTSZH.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_003.html-BtUKYDYQ.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_004.html-BEEzkBLw.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_005.html-C_pu6IQe.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_006.html-CLI6E437.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_007.html-BKXE_cWJ.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_008.html-CgwCp7mH.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_009.html-D86ZlUWv.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_010.html-BWrUxIsR.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/basic_011.html-CGfeko79.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/detail_001.html-BaurWd6Y.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/detail_002.html-Xb8ALTIP.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DxQhrWP-.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_001.html-CcmArn9I.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_002.html-y4nM8riA.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_003.html-BMMag6h-.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_004.html-iLwAI_UE.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_005.html-CCHc829T.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_006.html-BefTNyDr.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/first_007.html-DKMN9f0w.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CgpAUTEL.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/jvm_001.html-ChwHMluz.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/404.html-CbvFdSXf.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-dsi5VfIy.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-C7KEo3ei.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-DOABFYhX.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-B0IchKl5.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-qmBG-glX.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index.html-CmDRQm3L.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/giscus-DrGxERkK.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/auto-DO0dOiDN.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index-BzBQJFYZ.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index-CrbzHJRY.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index-BHzP5aLT.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/mermaid.esm.min-CNnt9Nri.js" as="script"><link rel="prefetch" href="/qianpengzhan/assets/photoswipe.esm-D2Nf-uDI.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/qianpengzhan/"><img class="vp-site-logo" src="/qianpengzhan/logo.gif" alt="学习笔记"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">学习笔记</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/md/interview/" aria-label="面试"><!--[--><!--[--><!--]--><!--]-->面试<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/md/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="学习笔记"><span class="title">学习笔记</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="学习笔记"><span class="title">学习笔记</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - JAVA</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/first/first_001.html" aria-label="初识JAVA"><!--[--><!--[--><!--]--><!--]-->初识JAVA<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/basic/basic_001.html" aria-label="JAVA基础知识"><!--[--><!--[--><!--]--><!--]-->JAVA基础知识<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/jvm/jvm_001.html" aria-label="深入理解JVM"><!--[--><!--[--><!--]--><!--]-->深入理解JVM<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/detail/detail_001.html" aria-label="JAVA代码细节"><!--[--><!--[--><!--]--><!--]-->JAVA代码细节<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - GO</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/go/basic/golang_001.html" aria-label="GoLang 基础"><!--[--><!--[--><!--]--><!--]-->GoLang 基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - 响应式编程</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/reactive/reactive_001.html" aria-label="第一章: 走进响应式编程"><!--[--><!--[--><!--]--><!--]-->第一章: 走进响应式编程<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="常见问题"><span class="title">常见问题</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="常见问题"><span class="title">常见问题</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/question/idea/question_idea_001.html" aria-label="intellj idea BUG"><!--[--><!--[--><!--]--><!--]-->intellj idea BUG<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/question/net/question_net_001.html" aria-label="网络相关知识"><!--[--><!--[--><!--]--><!--]-->网络相关知识<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/ali/ali_001.html" aria-label="阿里"><!--[--><!--[--><!--]--><!--]-->阿里<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/essay/essay_001_linux_command.html" aria-label="随笔"><!--[--><!--[--><!--]--><!--]-->随笔<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/real-operation/ro_001.html" aria-label="实操系列"><!--[--><!--[--><!--]--><!--]-->实操系列<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/md/interview/" aria-label="面试"><!--[--><!--[--><!--]--><!--]-->面试<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/qianpengzhan/md/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="学习笔记"><span class="title">学习笔记</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="学习笔记"><span class="title">学习笔记</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - JAVA</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/first/first_001.html" aria-label="初识JAVA"><!--[--><!--[--><!--]--><!--]-->初识JAVA<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/basic/basic_001.html" aria-label="JAVA基础知识"><!--[--><!--[--><!--]--><!--]-->JAVA基础知识<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/jvm/jvm_001.html" aria-label="深入理解JVM"><!--[--><!--[--><!--]--><!--]-->深入理解JVM<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/java/detail/detail_001.html" aria-label="JAVA代码细节"><!--[--><!--[--><!--]--><!--]-->JAVA代码细节<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - GO</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/go/basic/golang_001.html" aria-label="GoLang 基础"><!--[--><!--[--><!--]--><!--]-->GoLang 基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>学习笔记 - 响应式编程</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/qianpengzhan/md/note/reactive/reactive_001.html" aria-label="第一章: 走进响应式编程"><!--[--><!--[--><!--]--><!--]-->第一章: 走进响应式编程<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="常见问题"><span class="title">常见问题</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="常见问题"><span class="title">常见问题</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/question/idea/question_idea_001.html" aria-label="intellj idea BUG"><!--[--><!--[--><!--]--><!--]-->intellj idea BUG<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/question/net/question_net_001.html" aria-label="网络相关知识"><!--[--><!--[--><!--]--><!--]-->网络相关知识<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="更多"><span class="title">更多</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="更多"><span class="title">更多</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/ali/ali_001.html" aria-label="阿里"><!--[--><!--[--><!--]--><!--]-->阿里<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/essay/essay_001_linux_command.html" aria-label="随笔"><!--[--><!--[--><!--]--><!--]-->随笔<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/qianpengzhan/md/more/real-operation/ro_001.html" aria-label="实操系列"><!--[--><!--[--><!--]--><!--]-->实操系列<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/qianpengzhan/md/note/reactive/" aria-label="响应式编程"><!--[--><!--[--><!--]--><!--]-->响应式编程<!--[--><!--[--><span class="arrow down"></span><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_001.html" aria-label="第一章: 走进响应式编程"><!--[--><!--[--><!--]--><!--]-->第一章: 走进响应式编程<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_002.html" aria-label="第二章: 前置基础学习"><!--[--><!--[--><!--]--><!--]-->第二章: 前置基础学习<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active collapsible" href="/qianpengzhan/md/note/reactive/reactive_003.html" aria-label="第三章: Reactive Streams 规范"><!--[--><!--[--><!--]--><!--]-->第三章: Reactive Streams 规范<!--[--><!--[--><span class="arrow down"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_004.html" aria-label="第四章: Reactor 框架"><!--[--><!--[--><!--]--><!--]-->第四章: Reactor 框架<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_005.html" aria-label="第五章: Spring WebFlux 框架"><!--[--><!--[--><!--]--><!--]-->第五章: Spring WebFlux 框架<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_006.html" aria-label="第六章: Spring Data R2DBC  异步查询数据库"><!--[--><!--[--><!--]--><!--]-->第六章: Spring Data R2DBC  异步查询数据库<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/qianpengzhan/md/note/reactive/reactive_007.html" aria-label="第七章: Spring Reactive Security 认证鉴权"><!--[--><!--[--><!--]--><!--]-->第七章: Spring Reactive Security 认证鉴权<!--[--><!--[--><span class="arrow right"></span><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="第三章-reactive-streams-规范" tabindex="-1"><a class="header-anchor" href="#第三章-reactive-streams-规范"><span>第三章: Reactive Streams 规范</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【1】本章学习图解" class="router-link-active router-link-exact-active">【1】本章学习图解</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【2】规范背景" class="router-link-active router-link-exact-active">【2】规范背景</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【3】定义和定位" class="router-link-active router-link-exact-active">【3】定义和定位</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【4】核心目标" class="router-link-active router-link-exact-active">【4】核心目标</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【5】底层机制" class="router-link-active router-link-exact-active">【5】底层机制</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【6】发布-订阅模型运作流程" class="router-link-active router-link-exact-active">【6】发布-订阅模型运作流程</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【7】四大核心组件详解-java中" class="router-link-active router-link-exact-active">【7】四大核心组件详解(Java中)</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【8】关键特性" class="router-link-active router-link-exact-active">【8】关键特性</a><ul><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_1-事件驱动与声明式编程" class="router-link-active router-link-exact-active">1. 事件驱动与声明式编程</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_2-流量控制机制" class="router-link-active router-link-exact-active">2. 流量控制机制</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_3-异步非阻塞" class="router-link-active router-link-exact-active">3. 异步非阻塞</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_4-操作符丰富性" class="router-link-active router-link-exact-active">4. 操作符丰富性</a></li></ul></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【9】应用场景" class="router-link-active router-link-exact-active">【9】应用场景</a><ul><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_1-高吞吐实时数据处理" class="router-link-active router-link-exact-active">1. 高吞吐实时数据处理</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_2-微服务通信" class="router-link-active router-link-exact-active">2. 微服务通信</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_3-资源敏感型任务" class="router-link-active router-link-exact-active">3. 资源敏感型任务</a></li></ul></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【10】主流的实现框架" class="router-link-active router-link-exact-active">【10】主流的实现框架</a><ul><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_1-引言" class="router-link-active router-link-exact-active">1.引言</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_2-响应式宣言reactive-manifesto" class="router-link-active router-link-exact-active">2. 响应式宣言Reactive Manifesto</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_3-主流框架之reactor-spring-生态首选" class="router-link-active router-link-exact-active">3. 主流框架之Reactor（Spring 生态首选）</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_4-主流框架之-rxjava-复杂事件流处理" class="router-link-active router-link-exact-active">4. 主流框架之 RxJava（复杂事件流处理）</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_5-主流框架之-akka-streams-分布式流处理" class="router-link-active router-link-exact-active">5. 主流框架之 Akka Streams (分布式流处理)</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_6-主流框架之-java-flow-api-原生轻量级方案" class="router-link-active router-link-exact-active">6. 主流框架之 Java Flow API （原生轻量级方案）</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_7-主流框架之-rsocket-响应式通讯协议" class="router-link-active router-link-exact-active">7. 主流框架之 RSocket (响应式通讯协议)</a></li></ul></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【11】主流框架选型对比" class="router-link-active router-link-exact-active">【11】主流框架选型对比</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【12】reactive-strems-学习代码" class="router-link-active router-link-exact-active">【12】Reactive Strems 学习代码</a></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【13】总结" class="router-link-active router-link-exact-active">【13】总结</a><ul><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#_13-1-响应式编程总结" class="router-link-active router-link-exact-active">13.1 响应式编程总结</a></li></ul></li><li><a aria-current="page" href="/qianpengzhan/md/note/reactive/reactive_003.html#【14】参考资料" class="router-link-active router-link-exact-active">【14】参考资料</a></li></ul></nav><blockquote><p>说在前面的话，本文为个人学习<a href="https://www.bilibili.com/video/BV1gsYEeLEuM?spm_id_from=333.788.videopod.episodes&amp;vd_source=65c7f6924d2d8ba5fa0d4c448818e08a" target="_blank" rel="noopener noreferrer">SpringBoot3响应式编程精讲</a>后进行总结的文章，本文主要用于<b>响应式编程</b>。</p></blockquote><h2 id="【1】本章学习图解" tabindex="-1"><a class="header-anchor" href="#【1】本章学习图解"><span>【1】本章学习图解</span></a></h2><p><img src="/qianpengzhan/assets/image-20250701151854474-Bs6liscB.png" alt="image-20250701151854474"></p><h2 id="【2】规范背景" tabindex="-1"><a class="header-anchor" href="#【2】规范背景"><span>【2】规范背景</span></a></h2><div class="hint-container important"><p class="hint-container-title">规范背景</p><blockquote><p><strong>背景</strong>‌：传统同步阻塞 I/O 在高吞吐场景下易引发线程阻塞或内存溢出，需异步流控机制平衡生产消费速率‌</p></blockquote></div><h2 id="【3】定义和定位" tabindex="-1"><a class="header-anchor" href="#【3】定义和定位"><span>【3】定义和定位</span></a></h2><div class="hint-container info"><p class="hint-container-title">定义</p><blockquote><p><b>Reactive Streams</b> 是一套‌<strong>异步数据流处理标准</strong>‌（JVM 规范），旨在解决高并发场景下生产者（Publisher）与消费者（Subscriber）间的‌<strong>背压控制</strong>‌（Backpressure）问题，确保资源不被压垮。</p><p><b>Reactive Streams</b> 是一套<strong>处理异步数据流并支持背压（Backpressure）</strong> 的标准接口，主要用于<strong>非阻塞、高性能、响应式编程场景</strong></p></blockquote></div><div class="hint-container important"><p class="hint-container-title">本质</p><blockquote><p>其<strong>本质</strong> 是通过标准化接口实现非阻塞、响应式的流式数据处理‌</p></blockquote></div><h2 id="【4】核心目标" tabindex="-1"><a class="header-anchor" href="#【4】核心目标"><span>【4】核心目标</span></a></h2><blockquote><p>**非阻塞背压（Backpressure）**‌：订阅者通过 <code>request(n)</code> 声明可处理的数据量，发布者按需推送，避免因处理速度不匹配导致的资源耗尽或数据丢失‌。</p><p>‌<strong>异步边界</strong>‌：数据生产与消费解耦，支持跨线程或网络的高效协作‌。</p><p>‌<strong>有界队列</strong>‌：发布者维护有限缓冲区，避免内存溢出。</p><p>‌<strong>动态调整</strong>‌：订阅者根据处理能力实时调整请求量（如初始 <code>request(1)</code>，处理完再请求下一个）。</p></blockquote><h2 id="【5】底层机制" tabindex="-1"><a class="header-anchor" href="#【5】底层机制"><span>【5】底层机制</span></a></h2><div class="hint-container important"><p class="hint-container-title">底层机制</p><blockquote><p>背压（Backpressure）与异步流控</p></blockquote><blockquote><p><strong>1.背压核心原理</strong> : 消费者通过 <code>Subscription.request(n)</code> 主动声明可处理的数据量，生产者据此动态调整推送速率，避免数据积压或资源耗尽‌12。</p><ul><li>‌<strong>反馈循环</strong>‌：<code>Subscriber</code> 接收数据后，根据处理能力再次调用 <code>request(n)</code>，形成闭环调控‌23。</li><li>‌<strong>非阻塞队列</strong>‌：数据暂存于有界缓冲区，当缓冲区满时，生产者暂停推送（如 <code>onBackpressureBuffer()</code>）‌24。</li></ul><p>‌<strong>2.线程调度优化</strong>‌</p><ul><li>‌<strong>I/O 与计算分离</strong>‌：通过 <code>publishOn</code> 切换消费者线程，<code>subscribeOn</code> 控制生产者线程，避免阻塞‌56。</li><li>‌<strong>事件循环模型</strong>‌：基于 Netty 等框架，单线程处理多连接，提升高并发吞吐量（如 WebFlux 在 Netty 的实践）‌</li></ul><p><strong>3.正压和背压</strong></p><ul><li>正压：生产者给消费者压力</li><li>背压：生产者给缓存区压力，消费者根据自己的能力慢慢</li></ul></blockquote></div><h2 id="【6】发布-订阅模型运作流程" tabindex="-1"><a class="header-anchor" href="#【6】发布-订阅模型运作流程"><span>【6】发布-订阅模型运作流程</span></a></h2><p><img src="/qianpengzhan/assets/image-20250701203131135-C6Qu1tEg.png" alt="image-20250701203131135"></p><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><blockquote><p><strong>订阅阶段</strong>‌：<code>Publisher.subscribe(Subscriber)</code> 建立连接，返回 <code>Subscription</code> 对象‌。</p><p>‌<strong>请求阶段</strong>‌：<code>Subscriber</code> 通过 <code>Subscription.request(n)</code> 请求数据‌。</p><p>‌<strong>推送阶段</strong>‌：<code>Publisher</code> 调用 <code>Subscriber.onNext(data)</code> 推送最多 <code>n</code> 条数据‌。</p><p>‌<strong>动态调控</strong>‌：消费者处理完数据后，再次触发 <code>request(m)</code> 续传数据流‌。</p></blockquote><h2 id="【7】四大核心组件详解-java中" tabindex="-1"><a class="header-anchor" href="#【7】四大核心组件详解-java中"><span>【7】四大核心组件详解(Java中)</span></a></h2><blockquote><p>项目中需要先引入jar包 ：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.reactivestreams<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>reactive-streams<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.reactivestreams<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>reactive-streams-tck<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><img src="/qianpengzhan/assets/image-20250702094304524-CD3Ez5H8.png" alt="image-20250702094304524"></p><blockquote><p>这些组件类均在 <code>java.util.concurrent.Flow</code>下</p></blockquote><h4 id="_1-publisher-发布者" tabindex="-1"><a class="header-anchor" href="#_1-publisher-发布者"><span>1. Publisher（发布者）</span></a></h4><ul><li><p>‌<b>职责</b>：作为数据源，通过 <code>subscribe(Subscriber)</code> 绑定订阅者‌。</p></li><li><p>‌<b>实现示例</b> :</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Publisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">void</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> s<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><b>核心方法</b>:</p><ul><li><code>subscribe(Subscriber&lt;? super T&gt; s)</code>: 关联订阅者</li></ul></li></ul><h4 id="_2-subscriber-订阅者" tabindex="-1"><a class="header-anchor" href="#_2-subscriber-订阅者"><span>2. Subscriber（订阅者）</span></a></h4><ul><li><p>‌<b>职责</b>： 作为接收方，接收数据源发出的信息。</p></li><li><p>‌‌<b>实现示例</b> :</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">interface</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Subscription</span> subscription<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">T</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>‌<b>核心方法</b>:</p><ul><li><code>onSubscribe(Subscription s)</code>：接收订阅凭证，初始化请求（如 <code>s.request(10)</code>）。</li><li><code>onNext(T data)</code>：处理单条数据。</li><li><code>onError(Throwable t)</code>：处理错误并终止流‌。</li><li><code>onComplete()</code>：数据流结束通知‌。</li></ul></li></ul><h4 id="‌3-subscription-订阅关系" tabindex="-1"><a class="header-anchor" href="#‌3-subscription-订阅关系"><span>‌3. Subscription（订阅关系）</span></a></h4><ul><li><p>‌<b>职责</b>： 作为订阅关系的维系，协调维护数据源和订阅方的关系，保持不断</p></li><li><p>‌‌<b>实现示例</b> :</p></li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">interface</span> <span class="token class-name">Subscription</span> <span class="token punctuation">{</span></span>
<span class="line">   </span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token keyword">long</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><b>核心方法</b>:</p><ul><li><code>request(long n)</code>： 传递信息</li><li><code>cancle</code>： 终止传递信息</li></ul></li><li><p>‌<b>双向协调器</b> :</p><ul><li>传递 <code>request(n)</code> 背压请求至生产者‌。</li><li>提供 <code>cancel()</code> 终止数据流（如超时或错误）。</li></ul></li></ul><h4 id="‌4-processor-处理器" tabindex="-1"><a class="header-anchor" href="#‌4-processor-处理器"><span>‌4. Processor（处理器）</span></a></h4><ul><li><p>‌<b>职责</b>： 中间处理器</p></li><li><p>‌‌<b>实现示例</b> :</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">interface</span> <span class="token class-name">Processor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span> <span class="token class-name">Publisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>‌<b>双重身份</b>：同时实现 <code>Publisher</code> 和 <code>Subscriber</code> 接口，用于流转换（如过滤、映射）。</p></li><li><p>‌<b>典型场景</b>:</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token comment">// 将字符串流转换为大写</span></span>
<span class="line"><span class="token class-name">Processor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> processor <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span></span>
<span class="line">processor<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输入</span></span>
<span class="line">processor<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>data <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 &quot;HELLO&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="【8】关键特性" tabindex="-1"><a class="header-anchor" href="#【8】关键特性"><span>【8】关键特性</span></a></h2><h3 id="_1-事件驱动与声明式编程" tabindex="-1"><a class="header-anchor" href="#_1-事件驱动与声明式编程"><span>1. 事件驱动与声明式编程</span></a></h3><blockquote><p>数据到达时立即触发处理，而非轮询或阻塞等待，降低延迟。开发者通过声明式API（如<code>map</code>、<code>filter</code>）描述处理逻辑，而非手动控制流程‌。</p></blockquote><h3 id="_2-流量控制机制" tabindex="-1"><a class="header-anchor" href="#_2-流量控制机制"><span>2. 流量控制机制</span></a></h3><blockquote><ul><li><b>拉模式（Pull Model）</b>：订阅者主动请求数据，主动权由消费者掌握（对比传统推模式）。</li><li><b>动态调整</b>：订阅者可根据处理能力动态调整请求速率‌。</li></ul></blockquote><h3 id="_3-异步非阻塞" tabindex="-1"><a class="header-anchor" href="#_3-异步非阻塞"><span>3. 异步非阻塞</span></a></h3><blockquote><ul><li>基于回调或响应式框架（如Reactor、RxJava）实现高效资源利用，避免线程阻塞‌。</li><li>通过 <code>publishOn</code>/<code>subscribeOn</code> 指定执行线程，分离 I/O 密集型与计算密集型任务。</li></ul></blockquote><h3 id="_4-操作符丰富性" tabindex="-1"><a class="header-anchor" href="#_4-操作符丰富性"><span>4. 操作符丰富性</span></a></h3><blockquote><ul><li>‌<strong>转换类</strong>‌：<code>map</code>（映射）、<code>flatMap</code>（异步展开）。</li><li>‌<strong>过滤类</strong>‌：<code>filter</code>（过滤）、<code>take(n)</code>（取前N项）。</li><li>‌<strong>组合类</strong>‌：<code>merge</code>（合并流）、<code>zip</code>（多流聚合）。</li></ul></blockquote><h2 id="【9】应用场景" tabindex="-1"><a class="header-anchor" href="#【9】应用场景"><span>【9】应用场景</span></a></h2><h3 id="_1-高吞吐实时数据处理" tabindex="-1"><a class="header-anchor" href="#_1-高吞吐实时数据处理"><span>1. 高吞吐实时数据处理</span></a></h3><blockquote><p>如社交媒体实时推文分析、物联网设备数据流处理‌。</p></blockquote><h3 id="_2-微服务通信" tabindex="-1"><a class="header-anchor" href="#_2-微服务通信"><span>2. 微服务通信</span></a></h3><blockquote><p>服务间异步消息传递，结合背压避免服务雪崩‌。</p></blockquote><h3 id="_3-资源敏感型任务" tabindex="-1"><a class="header-anchor" href="#_3-资源敏感型任务"><span>3. 资源敏感型任务</span></a></h3><blockquote><p>文件/数据库流式读写，减少内存占用‌。</p></blockquote><table><thead><tr><th>‌<strong>场景</strong>‌</th><th>‌<strong>问题挑战</strong>‌</th><th>‌<strong>Reactive Streams 解决方案</strong>‌</th></tr></thead><tbody><tr><td>‌<strong>实时数据处理</strong>‌</td><td>高吞吐、低延迟需求</td><td>背压控制 + 非阻塞 I/O（如 Kafka 流处理）</td></tr><tr><td>‌<strong>微服务通信</strong>‌</td><td>服务雪崩、资源竞争</td><td>异步消息传递 + 熔断机制（如 RSocket）</td></tr><tr><td>‌<strong>响应式Web服务</strong>‌</td><td>高并发连接下的线程阻塞</td><td>非阻塞服务器（如 Netty + Spring WebFlux）</td></tr><tr><td>‌<strong>大数据流处理</strong>‌</td><td>内存溢出、处理延迟</td><td>分批次拉取 + 背压缓冲（如 Flink 集成）</td></tr></tbody></table><h2 id="【10】主流的实现框架" tabindex="-1"><a class="header-anchor" href="#【10】主流的实现框架"><span>【10】主流的实现框架</span></a></h2><h3 id="_1-引言" tabindex="-1"><a class="header-anchor" href="#_1-引言"><span>1.引言</span></a></h3><blockquote><p>​ 通过前文可知，<code>Reactive Streams</code>本质上是一套标准化接口规范，其核心价值在于为异步流处理建立了背压机制的统一契约，该规范本身并不提供具体实现，而是通过定义<code>Publisher/Subscriber</code>等核心组件及其交互规则，为响应式编程奠定了可互操作的底层基础.。</p><p>​ 在工业界实践中，基于该规范已衍生出多个成熟的技术实现方案（如<code>Project Reactor</code>、<code>RxJava</code>、<code>Akka Streams</code>等），这些框架通过扩展核心接口形成了各具特色的技术生态。对于开发者而言，需根据业务场景中的吞吐量需求、背压处理策略、线程调度模型等关键维度，结合框架特性和社区生态进行多维评估，最终实现精准的技术选型。这些实现框架不仅完整支持响应式宣言（<code>Reactive Manifesto</code>）的核心原则，更通过丰富的操作符和配置策略，为构建弹性化、响应式的分布式系统提供了标准化工具链。</p></blockquote><h3 id="_2-响应式宣言reactive-manifesto" tabindex="-1"><a class="header-anchor" href="#_2-响应式宣言reactive-manifesto"><span>2. 响应式宣言<code>Reactive Manifesto</code></span></a></h3><ul><li><a href="www.reactivemanifesto.org/zh-CN" target="_blank">响应式宣言</a></li><li><b>特性</b><ul><li><b>实现即时响应（Responsive）</b></li><li><b>回弹性（Resilient）</b></li><li><b>消息驱动（Message-Driven）‌</b><ul><li>反应式系统依赖异步的消息传递</li></ul></li></ul></li></ul><h3 id="_3-主流框架之reactor-spring-生态首选" tabindex="-1"><a class="header-anchor" href="#_3-主流框架之reactor-spring-生态首选"><span>3. 主流框架之<code>Reactor</code>（Spring 生态首选）</span></a></h3><ul><li><p><b>我们主要学习这个框架</b></p></li><li><p><b>核心类型</b>：<code>Mono</code>（0/1元素流）、<code>Flux</code>（0-N元素流）。</p></li><li><p><b>关键特性</b>：</p><ul><li>深度集成 Spring 生态（如 <code>WebFlux</code>、<code>Spring Data Reactive</code>）。</li><li>支持丰富的背压策略（<code>Buffer</code>、<code>Drop</code>、<code>Latest</code>）。</li><li>提供 100+ 操作符（<code>map</code>、<code>flatMap</code>、<code>zip</code>）。</li></ul></li><li><p><b>适用场景</b>：</p><ul><li>高并发<code>Web</code> 服务（替代 <code>Spring MVC</code>）。</li><li>微服务间响应式通信（如 <code>RSocket</code>）。</li></ul></li><li><p><b>官网</b>：<a href="https://projectreactor.io/" target="_blank" rel="noopener noreferrer">Project Reactor</a></p></li></ul><h3 id="_4-主流框架之-rxjava-复杂事件流处理" tabindex="-1"><a class="header-anchor" href="#_4-主流框架之-rxjava-复杂事件流处理"><span>4. 主流框架之 <code>RxJava</code>（复杂事件流处理）</span></a></h3><ul><li><b>核心类型</b>：<code>Observable</code>（非背压流）、<code>Flowable</code>（背压流）。</li><li><b>关键特性</b>： <ul><li>支持 300+ 操作符，功能最全的响应式库。</li><li>兼容 Java 6+ 和 Android 平台。</li><li>提供线程调度（<code>observeOn</code>、<code>subscribeOn</code>）。</li></ul></li><li><b>适用场</b>景： <ul><li>Android 应用异步任务。</li><li>复杂事件流合并/转换（如多数据源聚合）。</li></ul></li><li><b>官网</b>：<a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener noreferrer">ReactiveX/RxJava</a></li></ul><h3 id="_5-主流框架之-akka-streams-分布式流处理" tabindex="-1"><a class="header-anchor" href="#_5-主流框架之-akka-streams-分布式流处理"><span>5. 主流框架之 <code>Akka Streams</code> (分布式流处理)</span></a></h3><ul><li><b>核心概念</b>：<code>Source</code>（发布者）、<code>Flow</code>（处理器）、<code>Sink</code>（订阅者）。</li><li><b>关键特性</b>：基于 Actor 模型，支持分布式容错。 <ul><li>内置背压传播，无需手动配置。</li><li>提供流式 DSL（领域特定语言）。</li></ul></li><li><b>适用场景</b>： <ul><li>分布式数据管道（如 Kafka 流处理）。</li><li>高容错性实时计算（如金融风控）。</li></ul></li><li>‌<b>官网</b>：<a href="https://akka.io/docs/" target="_blank" rel="noopener noreferrer">Akka Streams</a></li></ul><h3 id="_6-主流框架之-java-flow-api-原生轻量级方案" tabindex="-1"><a class="header-anchor" href="#_6-主流框架之-java-flow-api-原生轻量级方案"><span>6. 主流框架之 <code>Java Flow API</code> （原生轻量级方案）</span></a></h3><ul><li><b>核心类</b>：<code>Flow.Publisher</code>、<code>Flow.Subscriber</code>、<code>Flow.Subscription</code>。</li><li><b>关键特性</b>： <ul><li>Java 9+ 原生支持，无需第三方依赖。</li><li>提供基础背压控制（<code>request(n)</code>）。</li><li>兼容其他 Reactive Streams 实现。</li></ul></li><li><b>适用场景</b>： <ul><li>轻量级响应式工具开发。</li><li>与其他框架的兼容性适配。</li></ul></li><li><b>文档</b>：<a href="https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html" target="_blank" rel="noopener noreferrer">Java 9 Flow API</a></li></ul><h3 id="_7-主流框架之-rsocket-响应式通讯协议" tabindex="-1"><a class="header-anchor" href="#_7-主流框架之-rsocket-响应式通讯协议"><span>7. 主流框架之 <code>RSocket</code> (响应式通讯协议)</span></a></h3><ul><li><b>核心特性</b>： <ul><li>基于 Reactive Streams 的二进制协议，支持 TCP/WebSocket。</li><li>提供四种交互模式：<code>Request-Response</code>、<code>Fire-and-Forget</code>、<code>Stream</code>、<code>Channel</code>。</li></ul></li><li><b>‌适用场景</b>： <ul><li>跨语言微服务通信（Java、Go、Node.js）。</li><li>实时双向数据流（如 IoT 设备控制）。</li></ul></li><li><b>‌集成框架‌</b>： <ul><li>Reactor（Spring RSocket）、RxJava、Kotlin Coroutines。</li></ul></li><li><b>官网</b>：<a href="https://rsocket.io/" target="_blank" rel="noopener noreferrer">RSocket</a></li></ul><h2 id="【11】主流框架选型对比" tabindex="-1"><a class="header-anchor" href="#【11】主流框架选型对比"><span>【11】主流框架选型对比</span></a></h2><table><thead><tr><th>‌<strong>框架</strong>‌</th><th>‌<strong>技术生态</strong>‌</th><th>‌<strong>背压支持</strong>‌</th><th>‌<strong>适用场景</strong>‌</th><th>‌<strong>学习成本</strong>‌</th></tr></thead><tbody><tr><td>‌<strong>Reactor</strong>‌</td><td>Spring/WebFlux</td><td>强</td><td>Web服务、微服务通信</td><td>中</td></tr><tr><td>‌<strong>RxJava</strong>‌</td><td>Android/Java</td><td>强</td><td>移动端、复杂事件流</td><td>高</td></tr><tr><td>‌<strong>Akka Streams</strong>‌</td><td>Akka/Scala</td><td>自动</td><td>分布式系统、大数据管道</td><td>高</td></tr><tr><td>‌<strong>Java Flow</strong>‌</td><td>Java原生</td><td>基础</td><td>轻量级工具、兼容性适配</td><td>低</td></tr><tr><td>‌<strong>RSocket</strong>‌</td><td>多语言（跨平台）</td><td>强</td><td>实时通信、IoT</td><td>中</td></tr></tbody></table><hr><blockquote><p>根据项目需求选择框架：‌</p></blockquote><ul><li><strong>Spring 生态优先 Reactor</strong>‌</li><li><strong>Android 选 RxJava</strong>‌</li><li><strong>分布式系统用 Akka Streams</strong>‌</li><li><strong>轻量级场景用 Java Flow</strong>‌</li><li><strong>跨语言通信用 RSocket</strong>‌</li></ul><h2 id="【12】reactive-strems-学习代码" tabindex="-1"><a class="header-anchor" href="#【12】reactive-strems-学习代码"><span>【12】Reactive Strems 学习代码</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>flow</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">CountDownLatch</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Flow</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">SubmissionPublisher</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@author</span> qianpengzhan</span>
<span class="line"> * <span class="token keyword">@since</span> 2025/7/2 11:08</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReactiveStreamLearn</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;主线程开始...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">CountDownLatch</span> countDownLatch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountDownLatch</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 1.定义1个发布者 发布数据流</span></span>
<span class="line"><span class="token comment">//        Flow.Publisher&lt;String&gt; publisher = new Flow.Publisher&lt;String&gt;() {</span></span>
<span class="line"><span class="token comment">//            public Flow.Subscriber&lt;? super String&gt; subscriber;</span></span>
<span class="line"><span class="token comment">//</span></span>
<span class="line"><span class="token comment">//            // 订阅者订阅发布者的接口 需要保存下订阅者</span></span>
<span class="line"><span class="token comment">//            @Override</span></span>
<span class="line"><span class="token comment">//            public void subscribe(Flow.Subscriber&lt;? super String&gt; subscriber) {</span></span>
<span class="line"><span class="token comment">//                this.subscriber = subscriber;</span></span>
<span class="line"><span class="token comment">//            }</span></span>
<span class="line"><span class="token comment">//        };</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// jvm底层已经对整个发布订阅关系做好了 异步 + 缓存区处理 + 虚拟线程消费 =  响应式系统</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 我们直接使用内置的发布者</span></span>
<span class="line">        <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> publisher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 2.定义1个订阅者 订阅者感兴趣发布者的数据 接收数据</span></span>
<span class="line">        <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">private</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// subscription 订阅关系  订阅凭证</span></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 订阅开始了&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> subscription<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">                <span class="token comment">// 水龙头在消费者这边控制 现在就是给我1滴水  意思我这边消费1个数据</span></span>
<span class="line">                subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 接收到数据: &quot;</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token comment">// 拿到1个 就再要1个</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;publish-7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;故意报错,到7就不相干了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                    subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token comment">// 计数-1</span></span>
<span class="line">                countDownLatch<span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 接收错误信号, &quot;</span> <span class="token operator">+</span> throwable<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token comment">// 异常计数也-1</span></span>
<span class="line">                <span class="token keyword">long</span> count <span class="token operator">=</span> countDownLatch<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    countDownLatch<span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 接收完毕&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 3.绑定发布订阅关系</span></span>
<span class="line">        publisher<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 4.测试</span></span>
<span class="line">        <span class="token comment">// 然后我们遍历发布0~10</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 发布者的线程&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// 发布10条数据</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">//publisher.closeExceptionally(new RuntimeException(&quot;故意报错,打印出来,结束&quot;));</span></span>
<span class="line">                publisher<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token string">&quot;publish-&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                publisher<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token string">&quot;publish-&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token comment">// 发布者发布的数据都存在发布者的buffer中，是一个array</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//5. 发布者关闭通道</span></span>
<span class="line">        countDownLatch<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻塞到所有数据被消费</span></span>
<span class="line">        publisher<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;主线程结束..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">执行后：</span>
<span class="line"><span class="token class-name">Connected</span> <span class="token keyword">to</span> <span class="token namespace">the</span> target <span class="token constant">VM</span><span class="token punctuation">,</span> address<span class="token operator">:</span> &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">53243</span>&#39;<span class="token punctuation">,</span> transport<span class="token operator">:</span> <span class="token char">&#39;socket&#39;</span></span>
<span class="line">主线程开始<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 订阅开始了<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414466</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414466</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span>main<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 发布者的线程<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414479</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414485</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414485</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 接收错误信号<span class="token punctuation">,</span> 故意报错<span class="token punctuation">,</span>到<span class="token number">7</span>就不相干了<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751439414486</span></span>
<span class="line">主线程结束<span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token class-name">Disconnected</span> from the target <span class="token constant">VM</span><span class="token punctuation">,</span> address<span class="token operator">:</span> &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">53243</span>&#39;<span class="token punctuation">,</span> transport<span class="token operator">:</span> <span class="token char">&#39;socket&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>learn<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>flow</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">CountDownLatch</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Flow</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">SubmissionPublisher</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@author</span> qianpengzhan</span>
<span class="line"> * <span class="token keyword">@since</span> 2025/7/2 15:04</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReactiveStreamLearn02</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;主线程开始...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">CountDownLatch</span> countDownLatch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountDownLatch</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//1 定义1个发布者</span></span>
<span class="line">        <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> publisher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//2 定义1个订阅者</span></span>
<span class="line">        <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">private</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// subscription 订阅关系  订阅凭证</span></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 订阅开始了&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> subscription<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">                <span class="token comment">// 水龙头在消费者这边控制 现在就是给我1滴水  意思我这边消费1个数据</span></span>
<span class="line">                <span class="token comment">// 订阅者慢慢消费</span></span>
<span class="line">                <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 消费者接收到数据: &quot;</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token comment">// 拿到1个 就再要1个</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;publish-7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;故意报错,到7就不相干了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token comment">// 订阅者慢慢消费</span></span>
<span class="line">                    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                    subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token comment">// 计数-1</span></span>
<span class="line">                countDownLatch<span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 消费者接收错误信号, &quot;</span> <span class="token operator">+</span> throwable<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token comment">// 异常计数也-1</span></span>
<span class="line">                <span class="token keyword">long</span> count <span class="token operator">=</span> countDownLatch<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    countDownLatch<span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token annotation punctuation">@Override</span></span>
<span class="line">            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 消费者接收完毕&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//3 定义1个中间处理器  给每个元素添加1个 哈哈哈 后缀</span></span>
<span class="line">        <span class="token class-name">MyProcessor</span> processor1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">MyProcessor</span> processor2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">MyProcessor</span> processor3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//4 绑定三者关系</span></span>
<span class="line">        processor3<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        processor2<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>processor3<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        processor1<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>processor2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        publisher<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>processor1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//5 发布者发布数据</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            publisher<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token string">&quot;publish-&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//6 阻塞到完成 关闭流</span></span>
<span class="line">        countDownLatch<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        publisher<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 定义1个流中间操作器</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyProcessor</span> <span class="token keyword">extends</span> <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token annotation punctuation">@Override</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, processer订阅发布者&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> subscription<span class="token punctuation">;</span></span>
<span class="line">            subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token annotation punctuation">@Override</span>  <span class="token comment">// 数据到达 触发回调</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, processer 拿到数据: &quot;</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// 在加工</span></span>
<span class="line">            item <span class="token operator">+=</span> <span class="token string">&quot;: 哈哈哈&quot;</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, processor 再加工后的数据：&quot;</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// 再发布出去</span></span>
<span class="line">            <span class="token function">submit</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// 再拿1个数据</span></span>
<span class="line">            subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token annotation punctuation">@Override</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token annotation punctuation">@Override</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, processor  完成了&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;, timestamp: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token class-name">Connected</span> <span class="token keyword">to</span> <span class="token namespace">the</span> target <span class="token constant">VM</span><span class="token punctuation">,</span> address<span class="token operator">:</span> &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">55656</span>&#39;<span class="token punctuation">,</span> transport<span class="token operator">:</span> <span class="token char">&#39;socket&#39;</span></span>
<span class="line">主线程开始<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 订阅开始了<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255902</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer订阅发布者<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255902</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer订阅发布者<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255902</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer订阅发布者<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255902</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255917</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255922</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255923</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processer 拿到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> processor 再加工后的数据：publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441255924</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441256930</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441257935</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441258943</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441259951</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441260966</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441261980</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">6</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441262992</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441264001</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">8</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441265013</span></span>
<span class="line"><span class="token class-name">Thread</span><span class="token punctuation">[</span><span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>main<span class="token punctuation">]</span><span class="token punctuation">,</span> 消费者接收到数据<span class="token operator">:</span> publish<span class="token operator">-</span><span class="token number">9</span><span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token operator">:</span> 哈哈哈<span class="token punctuation">,</span> timestamp<span class="token operator">:</span> <span class="token number">1751441266026</span></span>
<span class="line"><span class="token class-name">Disconnected</span> from the target <span class="token constant">VM</span><span class="token punctuation">,</span> address<span class="token operator">:</span> &#39;<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">55656</span>&#39;<span class="token punctuation">,</span> transport<span class="token operator">:</span> <span class="token char">&#39;socket&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【13】总结" tabindex="-1"><a class="header-anchor" href="#【13】总结"><span>【13】总结</span></a></h2><blockquote><p><strong>价值</strong>‌</p><ul><li>‌<strong>统一规范</strong>‌：解决不同响应式库的兼容性问题。</li><li>‌<strong>标准化集成</strong>‌：Java 9已将Reactive Streams接口纳入<code>java.util.concurrent.Flow</code>类‌。</li></ul><p>‌<strong>挑战</strong>‌</p><ul><li>‌<strong>复杂度</strong>‌：异步回调逻辑需谨慎设计，避免嵌套地狱‌。</li><li>‌<strong>调试困难</strong>‌：异步链路追踪与错误处理需依赖专用工具（如Reactor Debug Agent）‌。</li></ul></blockquote><h3 id="_13-1-响应式编程总结" tabindex="-1"><a class="header-anchor" href="#_13-1-响应式编程总结"><span>13.1 响应式编程总结</span></a></h3><blockquote><ul><li>底层：基于数据缓存队列 + 消息驱动模型 + 异步回调机制</li><li>编码： 流式编程 + 链式调用 + 声明式API</li><li>效果： 优雅全异步 + 消息实时处理 + 高吞吐量 + 占用少量资源</li></ul></blockquote><h2 id="【14】参考资料" tabindex="-1"><a class="header-anchor" href="#【14】参考资料"><span>【14】参考资料</span></a></h2><ul><li><a href="https://www.bilibili.com/video/BV1gsYEeLEuM?spm_id_from=333.788.videopod.episodes&amp;vd_source=65c7f6924d2d8ba5fa0d4c448818e08a" target="_blank" rel="noopener noreferrer">SpringBoot3响应式编程精讲</a></li><li><a href="refer_reactive_streams.html" target="_blank">Reactive Streams</a></li><li><a href="www.reactivemanifesto.org/zh-CN" target="_blank">响应式宣言</a></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/pengzhanqian/qianpengzhan/edit/main/docs/md/note/reactive/reactive_003.md" aria-label="编辑当前" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->编辑当前<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">上次更新: </span><time class="meta-item-info" datetime="2025-07-02T09:51:13.000Z" data-allow-mismatch>2025/7/2 09:51</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 873373549@qq.com">钱鹏展</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/qianpengzhan/md/note/reactive/reactive_002.html" aria-label="第二章: 前置基础学习"><!--[--><div class="hint"><span class="arrow left"></span> 上一页</div><div class="link"><span class="external-link">第二章: 前置基础学习</span></div><!--]--></a><a class="route-link auto-link next" href="/qianpengzhan/md/note/reactive/reactive_004.html" aria-label="第四章: Reactor 框架"><!--[--><div class="hint">下一页 <span class="arrow right"></span></div><div class="link"><span class="external-link">第四章: Reactor 框架</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/qianpengzhan/assets/app-GRT9i7xS.js" defer></script>
  </body>
</html>
